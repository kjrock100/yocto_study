# Yocto Project OpenEmbedded 빌드 시스템 개념 (OpenEmbedded Build System Concepts)

OpenEmbedded 빌드 시스템은 Yocto Project의 핵심으로, 소스 코드, 설정, 메타데이터를 결합하여 리눅스 배포판을 생성하는 구조적 프레임워크입니다.

## 1. 사용자 설정 (User Configuration)

빌드 프로세스를 제어하는 최상위 설정입니다. 주로 `build/conf/local.conf` 파일을 통해 관리됩니다.
*   **역할:** 빌드 디렉토리 위치, 병렬 빌드 수준, 디스크 공간 모니터링, 다운로드 디렉토리(`DL_DIR`), 공유 상태 캐시 디렉토리(`SSTATE_DIR`) 등을 정의합니다.
*   **특징:** 사용자가 직접 수정하여 빌드 환경을 커스터마이징하는 곳입니다.

## 2. 메타데이터, 머신 및 정책 설정

빌드 시스템이 "무엇을" 빌드할지 정의하는 계층입니다.

### 2.1 배포판 레이어 (Distro Layer)
*   **정책 설정 (Policy Configuration):** 배포판 전체에 적용되는 정책을 정의합니다.
*   **내용:** 초기화 시스템(SysVinit vs systemd), C 라이브러리(glibc vs musl), 툴체인 설정 등을 포함합니다. (예: `meta-poky`)

### 2.2 BSP 레이어 (Board Support Package Layer)
*   **머신 설정 (Machine Configuration):** 특정 하드웨어를 지원하기 위한 설정입니다.
*   **내용:** 커널 설정, 부트로더, 디바이스 드라이버, 하드웨어 특화 튜닝 등을 포함합니다. (예: `meta-raspberrypi`)

### 2.3 소프트웨어 레이어 (Software Layer)
*   **애플리케이션:** 특정 기능이나 소프트웨어 스택을 제공합니다. (예: `meta-qt5`, `meta-python`)

## 3. 소스 (Sources)

빌드 시스템이 패키지를 빌드하기 위해 가져오는 원본 코드입니다.
*   **업스트림 프로젝트 (Upstream Project Releases):** 인터넷상의 원본 소스 (tarball 등).
*   **로컬 프로젝트 (Local Projects):** 로컬 디스크에 있는 소스 코드.
*   **SCM (Source Control Managers):** Git, SVN 등의 저장소에서 직접 가져오는 소스.
*   **미러 (Mirrors):** 소스 다운로드 실패를 대비한 대체 저장소.

## 4. 패키지 피드 (Package Feeds)

컴파일된 바이너리들이 패키지 형식(RPM, DEB, IPK)으로 저장되는 임시 저장소입니다.
*   **용도:** 이미지 생성 시 이 피드에서 패키지를 가져와 설치하며, 타겟 디바이스 실행 중 런타임 업데이트에도 사용될 수 있습니다.

## 5. BitBake 도구 (BitBake Tool)

이 모든 과정을 조율하고 실행하는 엔진입니다. 주요 작업 흐름은 다음과 같습니다.

1.  **Source Fetching:** 레시피에 정의된 위치에서 소스 코드를 다운로드합니다.
2.  **Patching:** Yocto Project 특화 패치나 버그 수정을 소스에 적용합니다.
3.  **Configuration & Compilation:** 소스를 구성(`configure`)하고 컴파일(`compile`)합니다.
4.  **Package Splitting:** 컴파일된 결과물을 패키지(bin, dev, dbg, doc 등)로 분할합니다.
5.  **Image Generation:** 루트 파일시스템 이미지를 생성합니다.
6.  **SDK Generation:** 애플리케이션 개발용 SDK를 생성합니다.

## 6. 이미지 (Images)

빌드 프로세스의 최종 결과물입니다. 타겟 디바이스의 플래시 메모리나 저장 장치에 기록되어 부팅되는 바이너리 형태의 루트 파일시스템입니다.

## 7. 애플리케이션 개발 SDK

시스템 전체를 다시 빌드하지 않고, 애플리케이션만 별도로 개발할 수 있도록 제공되는 도구 모음입니다.
*   **Cross-Development Toolchain:** 호스트에서 타겟용 코드를 컴파일하는 컴파일러.
*   **Libraries & Headers:** 타겟 시스템과 일치하는 라이브러리 및 헤더 파일.

---
*참고: 이러한 개념들이 유기적으로 연결되어 Yocto Project의 빌드 생태계를 구성합니다.*
