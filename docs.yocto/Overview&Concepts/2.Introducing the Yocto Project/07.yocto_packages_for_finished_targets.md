# Yocto Project 완성된 타겟을 위한 패키지 (Packages for Finished Targets)

Yocto Project 빌드 시스템은 소스 코드를 컴파일한 후, 이를 타겟 디바이스에 설치하거나 배포할 수 있는 **패키지(Package)** 형태로 생성합니다.

## 1. 개요

빌드 과정에서 생성된 실행 파일, 라이브러리, 설정 파일 등은 최종적으로 특정 형식의 패키지로 묶입니다. 이 패키지들은 다음과 같은 용도로 사용됩니다.

1.  **이미지 생성 (Image Generation):** 빌드 시스템이 루트 파일시스템(`rootfs`)을 만들 때, 이 패키지들을 설치하여 최종 이미지를 구성합니다.
2.  **런타임 패키지 관리 (Runtime Package Management):** 타겟 디바이스가 부팅된 후, 패키지 관리자를 통해 소프트웨어를 추가로 설치하거나 업데이트할 때 사용됩니다.

## 2. 지원하는 패키지 형식

Yocto Project는 리눅스 생태계에서 널리 쓰이는 세 가지 주요 패키지 형식을 지원합니다.

*   **RPM (`.rpm`)**: Red Hat 계열 리눅스에서 사용하는 형식입니다. 기능이 강력하며 엔터프라이즈 환경에서 많이 사용됩니다. (패키지 관리자: `dnf`, `rpm`)
*   **Debian (`.deb`)**: Debian 및 Ubuntu 계열에서 사용하는 형식입니다. (패키지 관리자: `apt`, `dpkg`)
*   **IPK (`.ipk`)**: 임베디드 시스템을 위해 경량화된 형식입니다. Debian 패키지 구조와 유사하지만 메타데이터가 더 가볍습니다. Opkg 패키지 관리자를 사용합니다.
*   **Tarballs (`.tar`)**: 패키지 관리 기능 없이 단순 압축 파일 형태로도 생성할 수 있습니다.

## 3. 패키지 형식 설정

어떤 패키지 형식을 사용할지는 `conf/local.conf` 파일의 `PACKAGE_CLASSES` 변수를 통해 결정합니다.

```bitbake
# 예시 1: RPM 패키지 사용 (기본값)
PACKAGE_CLASSES ?= "package_rpm"

# 예시 2: IPK 패키지를 주로 사용하고, RPM도 생성
PACKAGE_CLASSES ?= "package_ipk package_rpm"
```

*   변수에 여러 형식을 지정할 수 있지만, **첫 번째로 지정된 형식**이 이미지 생성 시 루트 파일시스템의 기본 패키지 관리 시스템으로 설정됩니다.

## 4. 패키지 피드 (Package Feeds)

빌드 시스템이 생성한 패키지들은 `tmp/deploy/` 디렉토리 아래에 저장됩니다. 이 디렉토리를 웹 서버(Apache, Nginx 등)를 통해 공유하면 **패키지 피드(Package Feed)**로 활용할 수 있습니다.

타겟 디바이스에서 이 피드 주소를 설정하면, `dnf install`이나 `opkg install` 같은 명령어를 통해 네트워크로 소프트웨어를 설치하거나 시스템을 업데이트할 수 있습니다.

---
*참고: 임베디드 시스템의 리소스 제약에 따라 가벼운 IPK를 선호하거나, 기능이 풍부한 RPM을 선택하는 등 프로젝트 요건에 맞춰 형식을 선택합니다.*
