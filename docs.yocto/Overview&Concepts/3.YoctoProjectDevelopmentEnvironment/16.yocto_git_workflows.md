# Yocto Project와 Git 워크플로우 (Git Workflows and the Yocto Project)

Yocto Project는 개발 및 유지 관리의 핵심 도구로 **Git**을 사용합니다. 프로젝트의 규모와 복잡성 때문에 체계적인 Git 워크플로우를 이해하는 것이 필수적입니다.

## 1. 개요

Yocto Project는 단일 거대 저장소가 아니라, 수많은 독립적인 Git 저장소(Layer)들이 모여 하나의 생태계를 이룹니다. 따라서 버전 관리, 협업, 그리고 변경 사항 추적을 위해 Git의 분산 기능을 적극적으로 활용합니다.

## 2. 브랜치 전략 (Branching Strategy)

Yocto Project는 엄격한 브랜치 정책을 가지고 있습니다.

### 2.1 릴리스 브랜치 (Release Branches)
Yocto Project는 약 6개월마다 새로운 안정 버전을 릴리스하며, 각 릴리스는 고유한 코드명(Codename)을 가진 브랜치로 관리됩니다.
*   **예시:** `scarthgap`, `nanbield`, `kirkstone`, `dunfell`
*   **규칙:** 프로젝트를 구성할 때, **모든 레이어(Poky, OE-Core, BSP, Software Layer)는 동일한 릴리스 브랜치를 사용해야 합니다.** 서로 다른 브랜치를 섞어 쓰면 호환성 문제가 발생합니다.

### 2.2 마스터 브랜치 (Master Branch)
*   가장 최신의 개발 상태를 반영하는 브랜치입니다.
*   새로운 기능이 추가되거나 실험적인 변경 사항이 적용되므로 불안정할 수 있습니다.

## 3. 개발자 유형별 워크플로우

### 3.1 시스템 통합자 / 사용자 (System Integrator)
기존 레이어들을 조합하여 이미지를 빌드하는 경우입니다.
1.  `poky` 저장소를 클론하고 특정 릴리스 브랜치(예: `scarthgap`)로 체크아웃합니다.
2.  필요한 레이어(예: `meta-raspberrypi`)를 클론하고 동일한 브랜치로 맞춥니다.
3.  `conf/bblayers.conf`에 레이어를 추가하고 빌드합니다.
4.  **중요:** `poky` 내부 파일을 직접 수정하지 않고, 별도의 커스텀 레이어(`meta-myproject`)를 만들어 `bbappend`를 통해 설정을 변경합니다.

### 3.2 BSP / 커널 개발자
특정 하드웨어를 지원하는 작업을 하는 경우입니다.
1.  하드웨어 제조사나 커뮤니티에서 제공하는 BSP 레이어를 포크(Fork)하거나 클론합니다.
2.  커널 소스에 대한 변경 사항은 `defconfig`나 패치 파일 형태로 레이어 내에 포함시킵니다.
3.  작업 내용은 해당 BSP 레이어 저장소에 커밋합니다.

### 3.3 업스트림 기여자 (Upstream Contributor)
Yocto Project 자체(Poky, BitBake 등)에 기여하는 경우입니다.
1.  최신 `master` 브랜치를 기반으로 작업합니다.
2.  변경 사항에 대해 로컬에서 테스트를 수행합니다.
3.  커밋 메시지 규칙을 준수하고 `Signed-off-by` 태그를 포함하여 메일링 리스트에 패치를 제출합니다.

## 4. 주요 원칙 및 모범 사례

*   **직접 수정 금지:** `poky/` 또는 `meta-openembedded/` 디렉토리 내의 파일을 직접 수정하지 마십시오. 업데이트 시 충돌이 발생합니다. 대신 **자신만의 레이어**를 만들고 `.bbappend` 파일을 사용하여 오버라이드하십시오.
*   **레이어 호환성:** 항상 `LAYERSERIES_COMPAT` 변수를 확인하여 레이어가 현재 사용 중인 Yocto 버전과 호환되는지 확인하십시오.
*   **커밋 메시지:** 변경 사항을 명확히 설명하고, Yocto Project의 커밋 메시지 가이드라인을 따르십시오.

---
*참고: Git을 능숙하게 다루는 것은 Yocto Project의 방대한 생태계에서 길을 잃지 않고 효율적으로 개발하기 위한 기본 소양입니다.*
