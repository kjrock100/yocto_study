# Yocto 프로젝트 용어

Yocto 프로젝트 개발 환경을 처음 접하는 사용자들이 유용하게 참고할 수 있는 용어와 정의 목록입니다. 일부 용어는 보편적이지만, 혹시 모르니 포함시켰습니다.

## Append Files (추가 파일)

레시피 파일에 빌드 정보를 추가하는 파일입니다. 추가 파일은 BitBake 추가 파일이라고도 알려져 있으며 `.bbappend` 파일입니다. OpenEmbedded 빌드 시스템은 모든 추가 파일이 해당하는 레시피(`.bb`) 파일을 가지고 있어야 합니다. 또한 추가 파일과 해당 레시피 파일은 동일한 루트 파일명을 사용해야 합니다. 파일명은 파일 유형 접미사에서만 다를 수 있습니다(예: `formfactor_0.0.bb`와 `formfactor_0.0.bbappend`).

추가 파일의 정보는 같은 이름의 레시피 파일 정보를 확장하거나 재정의합니다.

추가 파일의 이름을 지정할 때 `%` 와일드카드 문자를 사용하여 레시피 이름과 매칭되도록 할 수 있습니다. 예를 들어, 다음과 같이 이름이 지어진 추가 파일이 있다고 가정하면:

```
busybox_1.21.%.bbappend
```

해당 추가 파일은 `busybox_1.21.x.bb` 버전의 모든 레시피와 매칭됩니다. 따라서 추가 파일은 다음 레시피 이름 중 모두와 매칭됩니다:

```
busybox_1.21.1.bb
busybox_1.21.2.bb
busybox_1.21.3.bb
busybox_1.21.10.bb
busybox_1.21.25.bb
```

> **참고:** `%` 문자의 사용은 `.bbappend` 부분 바로 앞에서만 작동하도록 제한됩니다. 파일명의 다른 위치에서는 와일드카드 문자를 사용할 수 없습니다.

## BitBake

OpenEmbedded 빌드 시스템에서 이미지를 빌드하기 위해 사용하는 작업 실행기이자 스케줄러입니다.

## Board Support Package (BSP, 보드 지원 패키지)

특정 하드웨어 구성에 대한 지원을 제공하는 드라이버, 정의 및 기타 컴포넌트의 그룹입니다.

## Build Directory (빌드 디렉토리)

OpenEmbedded 빌드 시스템이 빌드를 수행하는 데 사용하는 영역입니다. 이 영역은 소스 디렉토리에 있는 설정 환경 스크립트를 `source` 명령으로 실행할 때 생성됩니다(즉, `oe-init-build-env`). `TOPDIR` 변수는 빌드 디렉토리를 가리킵니다.

빌드 디렉토리를 생성할 때 매우 유연합니다. 다음은 디렉토리를 생성하는 방법을 보여주는 예제들입니다. 예제들은 소스 디렉토리가 `poky`로 이름 지어져 있다고 가정합니다:

**소스 디렉토리 내에 빌드 디렉토리를 생성하고 빌드 디렉토리 이름을 `build`로 기본값으로 설정:**

```bash
$ cd poky
$ source oe-init-build-env
```

**홈 디렉토리 내에 빌드 디렉토리를 생성하고 `test-builds`로 구체적으로 이름 지정:**

```bash
$ source poky/oe-init-build-env test-builds
```

**디렉토리 경로를 제공하고 빌드 디렉토리를 구체적으로 이름 지정. 경로 이름의 중간 폴더가 존재해야 합니다. 다음 예제는 기존 디렉토리 `mybuilds` 내에 `YP-5.2.999`로 이름 지어진 빌드 디렉토리를 생성합니다:**

```bash
$ source poky/oe-init-build-env mybuilds/YP-5.2.999
```

> **참고:** 기본적으로 빌드 디렉토리에는 빌드 시스템이 작업에 사용하는 임시 디렉토리인 `TMPDIR`이 포함됩니다. `TMPDIR`은 NFS 아래에 있을 수 없으므로 기본적으로 빌드 디렉토리는 NFS 아래에 있을 수 없습니다. 그러나 빌드 디렉토리가 NFS 아래에 있어야 하는 경우, `local.conf` 파일에서 `TMPDIR`을 로컬 드라이브를 사용하도록 설정하여 이를 구성할 수 있습니다. 이렇게 하면 `TMPDIR`을 빌드 디렉토리인 `TOPDIR`에서 효과적으로 분리합니다.

## Build Host (빌드 호스트)

Yocto 프로젝트 개발 환경에서 이미지를 빌드하는 데 사용되는 시스템입니다. 빌드 시스템을 개발 호스트라고도 합니다.

## buildtools

개발 도구(Git, GCC, Python 및 make)의 필수 버전을 제공하는 이진 형식의 빌드 도구로, 이러한 최소 버전이 없는 개발 호스트에서 OpenEmbedded 빌드 시스템을 실행할 수 있습니다.

## buildtools-extended

추가 개발 도구(예: OpenEmbedded 빌드 시스템을 실행하기 위한 GCC 컴파일러의 필수 버전)로 확장된 buildtools 이진 파일 세트입니다.

## buildtools-make

OpenEmbedded 빌드 시스템을 실행하기 위해 필요한 `make` 버전만 제공하는 buildtools의 변형입니다.

## Classes (클래스)

논리 캡슐화와 상속을 제공하는 파일로, 일반적으로 사용되는 패턴을 한 번 정의한 후 여러 레시피에서 쉽게 사용할 수 있습니다. 클래스 파일은 `.bbclass` 파일명 확장자로 끝납니다.

## Configuration File (설정 파일)

변수의 전역 정의, 사용자 정의 변수 및 하드웨어 설정 정보를 포함하는 파일입니다. 이러한 파일은 OpenEmbedded 빌드 시스템에 무엇을 빌드할지, 그리고 특정 플랫폼을 지원하기 위해 이미지에 무엇을 포함할지를 알려줍니다.

설정 파일은 `.conf` 파일명 확장자로 끝납니다. 빌드 디렉토리의 `conf/local.conf` 설정 파일에는 모든 빌드에 영향을 미치는 사용자 정의 변수가 포함되어 있습니다. `meta-poky/conf/distro/poky.conf` 설정 파일은 이 정책으로 빌드할 때만 사용되는 Yocto "distro" 설정 변수를 정의합니다. 소스 디렉토리 전체에 위치하는 머신 설정 파일은 특정 하드웨어에 대한 변수를 정의하며 해당 대상에 대해 빌드할 때만 사용됩니다(예: `machine/beaglebone.conf` 설정 파일은 Texas Instruments ARM Cortex-A8 개발 보드에 대한 변수를 정의합니다).

## Container Layer (컨테이너 레이어)

유연한 정의로, 일반적으로 프로젝트의 `bblayers.conf` 파일에 독립적으로 포함될 수 있는 여러 개(그리고 일반적으로 관련된) 하위 레이어를 포함하는 단일 Git 체크아웃을 말합니다.

OpenEmbedded의 `meta-openembedded` 레이어와 같은 경우, 최상위 `meta-openembedded/` 디렉토리는 그 자체로 실제 레이어가 아니므로 `bblayers.conf` 파일에 명시적으로 포함하지 않습니다. 대신, `meta-oe`, `meta-python` 등의 레이어 하위 디렉토리 중 원하는 것을 포함합니다.

한편, `meta-security` 같은 일부 컨테이너 레이어는 그 자체로 실제 레이어인 최상위 디렉토리와 다양한 하위 레이어를 모두 가지고 있으며, 둘 다 `bblayers.conf` 파일에 포함될 수 있습니다.

어느 경우든, "컨테이너 레이어"는 여러 개의 유효한 OpenEmbedded 레이어를 포함하는 디렉토리 구조를 설명하는 데 사용되는 단어입니다.

## Cross-Development Toolchain (교차 개발 툴체인)

일반적으로 교차 개발 툴체인은 한 아키텍처에서 실행되고 다른 또는 대상 아키텍처에 대한 소프트웨어를 개발할 수 있는 소프트웨어 개발 도구 및 유틸리티의 모음입니다. 이러한 툴체인은 대상 아키텍처에 특정된 교차 컴파일러, 링커 및 디버거를 포함합니다.

Yocto 프로젝트는 두 가지 다른 교차 개발 툴체인을 지원합니다:

- BitBake에 의해서만 그리고 BitBake 내에서 대상 아키텍처에 대한 이미지를 빌드할 때 사용되는 툴체인
- BitBake 외부에서 대상 디바이스에서 실행될 응용 프로그램을 개발할 때 개발자가 사용하는 재배치 가능 툴체인

이러한 툴체인의 생성은 간단하고 자동화되어 있습니다.

## Extensible Software Development Kit (eSDK, 확장 가능한 소프트웨어 개발 키트)

응용 프로그램 개발자를 위한 커스텀 SDK입니다. 이 eSDK는 개발자가 라이브러리 및 프로그래밍 변경 사항을 이미지에 통합하여 다른 응용 프로그램 개발자가 사용할 수 있도록 코드를 만들 수 있게 합니다.

## Image (이미지)

이미지는 레시피 모음 및 관련 메타데이터가 제공되는 BitBake 빌드 프로세스의 산물입니다. 이미지는 특정 하드웨어 또는 QEMU에서 실행되고 특정 사용 사례에 사용되는 이진 출력입니다.

## Initramfs (초기 RAM 파일시스템)

초기 RAM 파일시스템(Initramfs)은 선택적으로 압축된 cpio 아카이브이며, Linux 커널이 RAM으로 추출하여 특별한 tmpfs 인스턴스에 초기 루트 파일시스템으로 사용됩니다. 이것은 레거시 init RAM 디스크("initrd") 기술을 대체하며, RAM에서 에뮬레이션된 블록 디바이스에서 부팅되지만, 파일시스템을 거쳐야 하고 파일시스템이 RAM 캐시에 접근한 파일 내용을 복제해야 하므로 블록 디바이스처럼 덜 효율적입니다.

> **참고:** 부트로더 관점에서 Initramfs와 "initrd" 이미지는 여전히 동일한 방식으로 RAM으로 복사됩니다. 이것이 대부분의 부트로더가 Initramfs 이미지를 "initrd" 또는 "init RAM disk"라고 하는 이유입니다.

이러한 종류의 메커니즘은 일반적으로 두 가지 이유로 사용됩니다:

- 서로 다른 디바이스 드라이버가 필요한 여러 시스템에서 동일한 커널 바이너리를 부팅하기 위해. Initramfs 이미지는 최종 루트 파일시스템에 접근하는 데 필요한 특정 커널 모듈을 포함하도록 각 시스템 유형에 맞춰 커스터마이징됩니다. 이 기법은 데스크톱 및 서버용 모든 GNU/Linux 배포판에서 사용됩니다.

- 더 빠르게 부팅하기 위해. 루트 파일시스템이 RAM으로 추출되므로, 첫 사용자 공간 응용 프로그램에 접근하는 것은 블록 디바이스를 초기화하고, 여러 블록을 접근하고, 자체 오버헤드가 있는 파일시스템을 거쳐야 하는 것과 비교하여 매우 빠릅니다. 예를 들어, 이는 매우 조기에 스플래시 스크린을 표시하고, 나중에 최종 루트 파일시스템을 마운트하고 덜 시간 중요한 커널 드라이버를 로드할 수 있습니다.

이 cpio 아카이브는 부트로더에 의해 RAM으로 로드되거나 커널 바이너리에 포함될 수 있습니다.

## Layer (레이어)

관련 레시피의 모음입니다. 레이어를 사용하면 관련 메타데이터를 통합하여 빌드를 커스터마이징할 수 있습니다. 레이어는 또한 여러 아키텍처에 대해 빌드할 때 사용되는 정보를 분리합니다. 레이어는 이전 사양을 재정의하는 능력에서 계층적입니다. Yocto 프로젝트에서 사용 가능한 레이어를 원하는 만큼 포함할 수 있으며, 그 다음에 자신의 레이어를 추가하여 빌드를 커스터마이징할 수 있습니다.

## LTS (장기 지원)

"장기 지원"을 의미하며, Yocto 프로젝트의 맥락에서 최소 4년간 버그 및 보안 수정이 제공되는 선택된 안정 릴리스에 해당합니다.

## Metadata (메타데이터)

Yocto 프로젝트의 핵심 요소는 Linux 배포판을 구성하는 데 사용되는 메타데이터이며, OpenEmbedded 빌드 시스템이 이미지를 빌드할 때 파싱하는 파일에 포함되어 있습니다. 일반적으로 메타데이터에는 레시피, 설정 파일 및 빌드 명령 자체와 무엇을 빌드할지 및 빌드의 효과를 제어하는 데 사용되는 데이터를 참조하는 기타 정보가 포함됩니다. 메타데이터는 또한 어떤 소프트웨어 버전이 사용되는지, 어디에서 얻어지는지, 버그를 해결하거나 특정 상황에서 사용할 소프트웨어를 커스터마이징하는 데 사용되는 변경 사항 또는 추가 사항(패치 또는 보조 파일)을 나타내는 데 사용되는 명령 및 데이터를 포함합니다. OpenEmbedded-Core는 검증된 메타데이터의 중요한 세트입니다.

커널의 맥락에서("커널 메타데이터"), 용어는 `yocto-kernel-cache` Git 저장소에 포함된 커널 설정 조각 및 기능을 말합니다.

## Mixin (믹스인)

Mixin 레이어는 커뮤니티에서 특정 기능을 추가하거나 LTS 릴리스에 대한 특정 패키지의 새 버전을 지원하기 위해 생성할 수 있는 레이어입니다.

## OpenEmbedded-Core (OE-Core)

OE-Core는 많은 다양한 OpenEmbedded 파생 시스템(Yocto 프로젝트 포함)에 공통적으로 사용되도록 의도된 기본 레시피, 클래스 및 관련 파일로 구성된 메타데이터입니다. OE-Core는 OpenEmbedded 커뮤니티에서 개발한 원본 저장소의 큐레이션된 하위 집합으로, 더 작은 핵심 세트로 축소되었습니다. 결과는 엄격하게 제어되고 품질 보증된 레시피의 핵심 세트입니다.

Yocto 프로젝트 소스 저장소의 `meta` 디렉토리에서 메타데이터를 볼 수 있습니다.

## OpenEmbedded Build System (OpenEmbedded 빌드 시스템)

Yocto 프로젝트에 특정된 빌드 시스템입니다. OpenEmbedded 빌드 시스템은 BitBake를 작업 실행기로 사용하는 "Poky"라고 알려진 다른 프로젝트를 기반으로 합니다. Yocto 프로젝트 설명서 전체에서 OpenEmbedded 빌드 시스템은 때로 "빌드 시스템"이라고 간단히 언급됩니다. 호스트 또는 대상 빌드 시스템과 같은 다른 빌드 시스템을 참조하는 경우, 설명서는 명확하게 그 차이를 설명합니다.

## Package (패키지)

Yocto 프로젝트의 맥락에서, 이 용어는 BitBake에서 생산되는 레시피의 패키징된 출력(즉, "구운 레시피")을 말합니다. 패키지는 일반적으로 레시피의 소스에서 생산된 컴파일된 바이너리입니다.

흥미로운 점은 "패키지" 용어가 일반적으로 미묘한 의미를 가질 수 있다는 것입니다. 예를 들어, "빌드 호스트에 필요한 패키지" 섹션에서 참조된 패키지는 설치할 때 Linux 배포판에 기능을 추가하는 컴파일된 바이너리입니다.

또한 주목할 점은 역사적으로 Yocto 프로젝트 내에서 레시피를 패키지라고 불렀다는 것입니다. 따라서 여러 BitBake 변수가 겉으로 잘못된 이름을 가지고 있습니다(예: `PR`, `PV` 및 `PE`).

## Package Groups (패키지 그룹)

소프트웨어 레시피의 임의의 그룹입니다. 패키지 그룹을 사용하여 빌드할 때 일반적으로 단일 작업을 완료하는 레시피를 포함합니다. 예를 들어, 패키지 그룹은 회사의 소유권이 있는 또는 부가 가치 소프트웨어에 대한 레시피를 포함할 수 있습니다. 또는 패키지 그룹은 그래픽을 활성화하는 레시피를 포함할 수 있습니다. 패키지 그룹은 실제로 또 다른 레시피입니다. 패키지 그룹 파일이 레시피이므로, `.bb` 파일명 확장자로 끝납니다.

## Poky

Poky는 "Pock-ee"로 발음되며 참조 임베디드 배포판이자 참조 테스트 구성입니다. Poky는 다음을 제공합니다:

- 배포판을 커스터마이징하는 방법을 보여주는 데 사용되는 기본 수준의 기능적 배포판
- Yocto 프로젝트 컴포넌트를 테스트하는 수단(즉, Poky는 Yocto 프로젝트를 검증하는 데 사용됨)
- Yocto 프로젝트를 다운로드할 수 있는 수단

Poky는 제품 수준 배포판이 아닙니다. 오히려 커스터마이징의 좋은 출발점입니다.

> **참고:** Poky는 원래 OpenedHand에서 개발한 오픈 소스 프로젝트로 시작했습니다. OpenedHand는 기존 OpenEmbedded 빌드 시스템에서 Poky를 개발하여 임베디드 Linux용 상업적으로 지원 가능한 빌드 시스템을 만들었습니다. Intel Corporation이 OpenedHand를 인수한 후, Poky 프로젝트는 Yocto 프로젝트의 빌드 시스템의 기반이 되었습니다.

## Recipe (레시피)

패키지를 빌드하기 위한 명령 집합입니다. 레시피는 소스 코드를 어디에서 얻을지, 어떤 패치를 적용할지, 소스를 설정하는 방법, 컴파일하는 방법 등을 설명합니다. 레시피는 또한 라이브러리 또는 다른 레시피에 대한 종속성을 설명합니다. 레시피는 논리적 실행 단위, 빌드할 소프트웨어, 빌드할 이미지를 나타내며 `.bb` 파일 확장자를 사용합니다.

## Reference Kit (참조 키트)

특정 하드웨어에서 작동할 수 있는 BSP뿐만 아니라 빌드 호스트 및 기타 컴포넌트를 포함하는 시스템의 작동 예제입니다.

## SBOM (소프트웨어 명세서)

소프트웨어를 배포할 때 사용되는 용어로, 사용한 모든 컴포넌트, 해당 라이선스, 종속성, 적용된 변경 사항 및 수정된 알려진 취약성에 대한 설명을 제공합니다.

이를 소프트웨어 수신자가 라이선스 준수 및 보안 취약성 문제에 대한 노출을 평가하는 데 사용할 수 있습니다.

OpenEmbedded 빌드 시스템은 소프트웨어 이미지를 빌드하는 데 사용한 모든 메타데이터를 기반으로 SPDX 형식으로 프로젝트에 대한 이러한 설명서를 생성할 수 있습니다.

## Source Directory (소스 디렉토리)

`poky` Git 저장소(`git://git.yoctoproject.org/poky`)의 로컬 복사본을 생성하거나 릴리스된 `poky` tarball을 확장한 결과로 생성되는 디렉토리 구조를 말합니다.

> **참고:** poky Git 저장소의 로컬 복사본을 생성하는 것이 소스 디렉토리를 설정하는 데 권장되는 방법입니다.

때때로 이 디렉토리 구조를 "poky 디렉토리"라고 부르는 것을 들을 수 있습니다.

> **참고:** OpenEmbedded 빌드 시스템은 공백을 포함하는 파일 또는 디렉토리 이름을 지원하지 않습니다. 사용하는 소스 디렉토리에 이러한 유형의 이름이 포함되지 않았는지 확인하세요.

소스 디렉토리에는 BitBake, 설명서, 메타데이터 및 Yocto 프로젝트를 모두 지원하는 기타 파일이 포함되어 있습니다. 따라서 Yocto 프로젝트를 사용하여 개발을 수행하려면 개발 시스템에 소스 디렉토리가 있어야 합니다.

Git 저장소의 로컬 복사본을 생성할 때 저장소 이름은 원하는 대로 지정할 수 있습니다. 설명서 대부분에서 "poky"는 poky Git 저장소의 로컬 복사본의 최상위 폴더 이름으로 사용됩니다. 따라서 예를 들어, `poky` Git 저장소를 복제하면 최상위 폴더도 "poky"로 이름 지어진 로컬 Git 저장소가 생깁니다.

Tarball 추출을 사용하여 소스 디렉토리를 설정하는 것은 권장되지 않지만, 그렇게 하는 경우 소스 디렉토리의 최상위 디렉토리 이름은 Yocto 프로젝트 릴리스 tarball에서 파생됩니다. 예를 들어, `https://downloads.yoctoproject.org/releases/yocto/yocto-5.2.4/`에서 Poky tarball을 다운로드하고 압축을 풀면 루트 폴더가 poky로 이름 지어진 소스 디렉토리가 됩니다.

릴리스된 tarball을 압축 푼 경우와 `git://git.yoctoproject.org/poky`를 복제한 경우 소스 디렉토리의 차이를 이해하는 것이 중요합니다. tarball을 압축 풀면 릴리스 시점에 기반한 파일의 정확한 복사본이 있습니다(고정 릴리스 지점). 소스 디렉토리의 로컬 파일에 대해 수행한 모든 변경 사항은 릴리스 위에 있으며 로컬에만 남아 있습니다. 반면에 `poky` Git 저장소를 복제하면 업스트림 저장소의 분기 및 태그에 접근할 수 있는 활성 개발 저장소가 있습니다. 이 경우 로컬 소스 디렉토리에 대해 수행한 모든 로컬 변경 사항은 나중에 업스트림 `poky` Git 저장소의 활성 개발 분기에 적용될 수 있습니다.

## SPDX (소프트웨어 패키지 데이터 교환)

"소프트웨어 패키지 데이터 교환"을 의미하며, 소프트웨어 명세서(SBOM)를 제공하기 위한 개방형 표준으로 사용됩니다. 이 표준은 Linux Foundation 프로젝트를 통해 개발되며 OpenEmbedded 빌드 시스템에서 각 소프트웨어 이미지와 관련된 SBOM을 제공하는 데 사용됩니다.

## Sysroot (시스템루트)

교차 컴파일할 때, 대상 파일시스템은 호스트 시스템과 다르게 배치되고 다른 것들을 포함할 수 있습니다. Sysroot의 개념은 대상 파일시스템처럼 보이고 교차 컴파일을 위해 사용될 수 있는 디렉토리입니다.

교차 컴파일 툴체인의 맥락에서, sysroot는 일반적으로 C 라이브러리 및 커널 헤더, 그리고 C 라이브러리에 대한 컴파일된 바이너리를 포함합니다. Multilib 툴체인은 대상 명령어 집합(예: `armv5`, `armv7` 및 `armv8`)에 대해 각각 컴파일되고 특정 CPU 코어에 대해 최적화될 수 있는 C 라이브러리 바이너리의 여러 변형을 포함할 수 있습니다.

OpenEmbedded 빌드 시스템 및 Yocto 프로젝트의 더 구체적인 맥락에서, 각 레시피에는 두 개의 sysroot가 있습니다:

- **대상 Sysroot**: 레시피를 빌드하는 데 필요한 모든 대상 라이브러리 및 헤더를 포함합니다.
- **Native Sysroot**: 레시피를 빌드하는 데 필요한 모든 호스트 파일 및 실행 파일을 포함합니다.

## Task (작업)

BitBake(예: `do_compile`, `do_fetch`, `do_patch` 등)의 레시피별 실행 단위입니다. 빌드 시스템의 주요 장점 중 하나는 각 레시피가 일반적으로 수많은 작업의 실행을 생성하므로, 별도의 레시피의 작업이든 동일 레시피 내의 독립적인 작업이든 많은 작업이 병렬로 실행될 수 있다는 것입니다(빌드 시스템의 병렬 처리 능력까지).

## Toaster

Yocto 프로젝트의 OpenEmbedded 빌드 시스템에 대한 웹 인터페이스입니다. 인터페이스를 사용하면 빌드를 구성하고 실행할 수 있습니다. 빌드에 대한 정보가 수집되어 데이터베이스에 저장됩니다.

## Upstream (업스트림)

개발 시스템에 로컬이 아니지만 소스 코드 유지 관리자가 제어하는 원격 영역에 있는 소스 코드 또는 저장소에 대한 참조입니다. 예를 들어, 개발자가 특정 코드를 작업하려면 "업스트림" 소스에서 먼저 복사본을 가져와야 합니다.
