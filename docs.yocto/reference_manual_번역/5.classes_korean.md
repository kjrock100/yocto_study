# Classes (클래스)

클래스 파일은 로직을 캡슐화하고 상속을 제공하여 레시피가 코드를 재사용할 수 있게 합니다. 클래스 파일은 `.bbclass` 확장자를 가집니다. 레시피 파일(`.bb`)과 다른 클래스 파일에서 `inherit` 지시문을 사용하여 클래스를 상속할 수 있습니다.

이 장에서는 OpenEmbedded 빌드 시스템에서 사용 가능한 클래스들에 대한 참조 정보를 제공합니다.

## 5.1 `allarch`

이 클래스는 아키텍처 독립적인 패키지를 생성하는 레시피에서 사용됩니다. 스크립트, 설정 파일, 데이터 파일 등 바이너리가 아닌 파일을 포함하는 패키지가 이에 해당합니다. 이 클래스를 상속하면 시스템은 패키지를 "all" 아키텍처로 설정하여 타겟 아키텍처에 관계없이 재사용할 수 있게 합니다.

## 5.2 `archiver`

이 클래스는 소스 코드, 라이선스 텍스트, 빌드 로그 등을 아카이브(압축 파일)로 생성하는 기능을 제공합니다. 이는 라이선스 준수(예: GPL)를 위해 원본 소스 코드를 배포해야 할 때 유용합니다.

## 5.3 `autotools`

GNU Autotools(`autoconf`, `automake`, `libtool`)를 사용하는 소프트웨어를 빌드하기 위한 클래스입니다. `do_configure`, `do_compile`, `do_install` 작업을 자동으로 정의하여 `./configure`, `make`, `make install` 과정을 처리합니다.

## 5.4 `autotools-brokensep`

`autotools` 클래스를 확장하지만, 소스 디렉토리와 빌드 디렉토리가 분리된 빌드(out-of-tree build)를 지원하지 않는 소프트웨어를 위해 사용됩니다. 이 클래스는 빌드가 소스 디렉토리 내에서 수행되도록 설정합니다 (`B = S`).

## 5.5 `bin_package`

이미 컴파일된 바이너리나 사전 빌드된 파일을 패키징할 때 사용합니다. 소스 컴파일 과정 없이 파일을 설치 디렉토리로 복사하고 패키징하는 작업을 단순화합니다.

## 5.6 `binconfig`

바이너리 구성 스크립트(예: `foo-config`)를 제공하는 레시피를 돕습니다. 이 클래스는 이러한 스크립트가 sysroot 내의 올바른 경로를 가리키도록 수정합니다.

## 5.7 `buildhistory`

빌드된 이미지, 패키지, SDK에 대한 정보를 기록하여 빌드 간의 변경 사항을 추적할 수 있게 합니다. 패키지 크기, 의존성, 파일 목록 등의 변경 이력을 Git 저장소 형태로 관리할 수 있습니다.

## 5.8 `cmake`

CMake 빌드 시스템을 사용하는 소프트웨어를 위한 클래스입니다. `OECMAKE_SOURCEPATH`와 같은 변수를 사용하여 CMake 설정을 제어할 수 있습니다.

## 5.9 `cpan`

Perl 모듈을 빌드하기 위한 클래스입니다.

## 5.10 `cpan-base`

Perl 모듈을 위한 기본 기능을 제공합니다.

## 5.11 `debian`

패키지 이름을 Debian 명명 규칙에 맞게 변경합니다.

## 5.12 `deploy`

빌드 결과물을 `deploy` 디렉토리(일반적으로 `tmp/deploy`)에 복사하는 기능을 제공합니다. 레시피에서 `do_deploy` 작업을 정의하고 이 클래스를 상속받아 사용합니다. 커널이나 부트로더 레시피에서 자주 사용됩니다.

## 5.13 `devtool-source`

`devtool` 유틸리티가 소스 트리를 추출하고 준비하는 데 사용하는 내부 클래스입니다.

## 5.14 `distutils3`

Python 3 distutils 기반의 패키지를 빌드하기 위한 클래스입니다.

## 5.15 `externalsrc`

OpenEmbedded 빌드 시스템 외부의 소스 코드를 사용하여 레시피를 빌드할 수 있게 합니다. `EXTERNALSRC` 변수를 사용하여 외부 소스 트리의 경로를 지정합니다. `devtool`이 작업 공간(workspace) 모드에서 이 클래스를 사용합니다.

## 5.16 `extrausers`

이미지 생성 시 `/etc/passwd`나 `/etc/group` 파일을 수정하여 사용자나 그룹을 추가/수정할 수 있게 합니다. `EXTRA_USERS_PARAMS` 변수를 통해 설정을 정의합니다.

## 5.17 `fontcache`

폰트 패키지가 설치될 때 폰트 캐시를 업데이트하는 포스트 인스톨(post-install) 스크립트를 생성합니다.

## 5.18 `gconf`

GConf 스키마를 설치하는 패키지를 위한 도우미 클래스입니다.

## 5.19 `gettext`

GNU gettext를 사용하는 소프트웨어를 위한 클래스입니다.

## 5.20 `gnomebase`

GNOME 관련 소프트웨어를 위한 기본 클래스입니다.

## 5.21 `gtk-doc`

GTK+ 문서 도구를 사용하여 API 문서를 생성하는 기능을 지원합니다.

## 5.22 `gtk-icon-cache`

GTK+ 아이콘 캐시를 업데이트하는 포스트 인스톨 스크립트를 생성합니다.

## 5.23 `icecc`

Icecream 분산 컴파일러를 사용하여 빌드 속도를 높일 수 있게 합니다.

## 5.24 `image`

이미지를 생성하는 레시피의 기본 클래스입니다. 루트 파일시스템을 생성하고, 패키지를 설치하고, 이미지를 압축하는 등의 작업을 처리합니다.

## 5.25 `image-buildinfo`

이미지에 빌드 정보를 포함하는 파일(`/etc/build`)을 생성합니다.

## 5.26 `insane`

빌드 결과물에 대한 품질 보증(QA) 검사를 수행합니다. 패키지 이름, 경로, 아키텍처 호환성 등 다양한 검사를 수행하여 잠재적인 문제를 보고합니다.

## 5.27 `kernel`

Linux 커널을 빌드하는 레시피를 위한 클래스입니다. 커널 구성, 컴파일, 모듈 설치, 이미지 생성 등을 처리합니다.

## 5.28 `kernel-module-split`

커널 모듈을 개별 패키지로 자동 분할하는 기능을 제공합니다. `kernel` 클래스에 의해 자동으로 사용됩니다.

## 5.29 `kernel-yocto`

Yocto Project 커널 툴링(kern-tools)을 사용하여 커널 구성 조각(config fragments)과 패치를 관리하는 기능을 제공합니다. `linux-yocto` 레시피에서 사용됩니다.

## 5.30 `logging`

쉘 스크립트나 Python 작업에서 로그 메시지를 출력하는 함수들을 제공합니다 (`bb.plain`, `bb.note`, `bb.warn`, `bb.error`, `bb.fatal` 등).

## 5.31 `meson`

Meson 빌드 시스템을 사용하는 소프트웨어를 위한 클래스입니다.

## 5.32 `metadata_scm`

메타데이터의 SCM(Source Control Management) 정보를 가져오는 기능을 제공합니다.

## 5.33 `mime`

MIME 타입 데이터베이스를 업데이트하는 포스트 인스톨 스크립트를 생성합니다.

## 5.34 `mime-xdg`

XDG MIME 데이터베이스를 업데이트하는 포스트 인스톨 스크립트를 생성합니다.

## 5.35 `module`

Linux 커널 모듈(out-of-tree module)을 빌드하는 레시피를 위한 클래스입니다. 커널 빌드 시스템과 연동하여 모듈을 컴파일하고 패키징합니다.

## 5.36 `multilib`

다중 라이브러리(예: 32비트와 64비트 공존) 지원을 활성화합니다.

## 5.37 `native`

빌드 호스트에서 실행되는 도구(네이티브 도구)를 빌드하는 레시피를 위한 클래스입니다. 이 클래스를 상속하면 패키지 이름에 `-native` 접미사가 붙고, 빌드 호스트의 sysroot에 설치됩니다.

## 5.38 `nativesdk`

SDK(Software Development Kit)에 포함되어 개발자 머신에서 실행될 도구를 빌드하는 레시피를 위한 클래스입니다.

## 5.39 `oelint`

레시피에 대한 린트(lint) 검사를 수행합니다.

## 5.40 `own-mirrors`

`SOURCE_MIRROR_URL` 변수를 사용하여 자체 소스 미러를 설정할 수 있게 합니다. `PREMIRRORS`를 설정하여 업스트림 소스보다 먼저 자체 미러를 확인하도록 합니다.

## 5.41 `package`

패키징 작업(`do_package`)을 처리하는 핵심 클래스입니다. 컴파일된 파일을 분석하여 패키지로 분할하고, 의존성을 계산하고, 디버그 정보를 추출합니다.

## 5.42 `package_deb`

`.deb` (Debian) 형식의 패키지를 생성합니다.

## 5.43 `package_ipk`

`.ipk` (Opkg) 형식의 패키지를 생성합니다.

## 5.44 `package_rpm`

`.rpm` (RPM) 형식의 패키지를 생성합니다.

## 5.45 `packagegroup`

패키지 그룹(이전의 'task')을 생성하는 레시피를 위한 클래스입니다. 패키지 그룹은 실제 파일은 포함하지 않고, `RDEPENDS`를 통해 다른 패키지들의 그룹을 정의합니다.

## 5.46 `perlnative`

빌드 호스트의 Perl을 사용하는 대신, 빌드 시스템이 제공하는 네이티브 Perl을 사용하도록 설정합니다.

## 5.47 `pixbufcache`

GDK Pixbuf 로더 캐시를 업데이트하는 포스트 인스톨 스크립트를 생성합니다.

## 5.48 `pkgconfig`

`pkg-config` 도구를 사용하는 소프트웨어를 빌드할 때 필요한 설정을 제공합니다.

## 5.49 `populate_sdk`

이미지 레시피나 SDK 레시피에서 SDK 설치 스크립트를 생성하는 데 사용됩니다. 툴체인과 sysroot를 포함하는 설치 가능한 SDK를 만듭니다.

## 5.50 `populate_sdk_ext`

확장 가능한 SDK(eSDK)를 생성하는 데 사용됩니다. eSDK는 `devtool`을 포함하여 더 강력한 개발 환경을 제공합니다.

## 5.51 `python3-dir`

Python 3 관련 디렉토리 경로 변수를 제공합니다.

## 5.52 `python3native`

빌드 과정에서 Python 3를 사용해야 할 때, 호스트 시스템의 Python 대신 빌드 시스템이 제공하는 네이티브 Python 3를 사용하도록 설정합니다.

## 5.53 `qemu`

QEMU 에뮬레이터와 관련된 설정을 제공합니다. 빌드 과정에서 타겟 바이너리를 실행해야 할 때(예: `gobject-introspection`) QEMU를 사용하도록 돕습니다.

## 5.54 `qmake5`

Qt 5 qmake 빌드 시스템을 사용하는 소프트웨어를 위한 클래스입니다.

## 5.55 `relative_symlinks`

절대 경로 심볼릭 링크를 상대 경로로 변환합니다.

## 5.56 `relocatable`

바이너리나 스크립트를 재배치 가능하게(relocatable) 만듭니다.

## 5.57 `remove-libtool`

설치 단계에서 `.la` (libtool 아카이브) 파일을 제거합니다.

## 5.58 `report-error`

빌드 오류를 오류 보고 서버로 전송하는 기능을 제공합니다.

## 5.59 `rm_work`

빌드 완료 후 작업 디렉토리(`WORKDIR`)를 삭제하여 디스크 공간을 절약합니다. 디버깅이 필요할 때는 비활성화할 수 있습니다.

## 5.60 `rootfs-postcommands`

루트 파일시스템 생성 후 실행할 수 있는 다양한 유틸리티 함수를 제공합니다 (예: `read_only_rootfs_hook`).

## 5.61 `sanity`

빌드 환경의 건전성(sanity)을 검사합니다. 필수 도구의 존재 여부, 권한 문제 등을 확인합니다.

## 5.62 `sstate`

공유 상태(Shared State) 캐시 메커니즘을 구현하는 클래스입니다. 빌드 속도를 높이기 위해 작업 결과를 캐시하고 재사용합니다.

## 5.63 `systemd`

Systemd 시스템 및 서비스 관리자를 사용하는 패키지를 위한 클래스입니다. 서비스 유닛 파일을 설치하고 활성화하는 기능을 제공합니다.

## 5.64 `terminal`

`do_devshell`과 같은 작업에서 터미널 창을 여는 기능을 제공합니다.

## 5.65 `testimage`

이미지 빌드 후 QEMU나 실제 하드웨어에서 자동화된 런타임 테스트를 수행하는 기능을 제공합니다.

## 5.66 `tinfoil`

BitBake의 내부 API인 Tinfoil을 사용하여 BitBake 데이터에 접근하는 Python 스크립트를 작성할 때 사용됩니다.

## 5.67 `toaster`

Toaster 웹 인터페이스를 위한 빌드 정보를 수집합니다.

## 5.68 `toolchain-scripts`

SDK 환경 설정 스크립트를 생성하는 기능을 제공합니다.

## 5.69 `typecheck`

변수 타입 검사를 수행합니다.

## 5.70 `uboot-config`

U-Boot 부트로더 구성을 지원하는 클래스입니다.

## 5.71 `update-alternatives`

동일한 기능을 제공하는 여러 패키지(예: `busybox`의 `ls`와 `coreutils`의 `ls`)가 공존할 때, 심볼릭 링크를 통해 기본 명령을 관리하는 메커니즘을 제공합니다.

## 5.72 `update-rc.d`

SysVinit 초기화 스크립트를 설치하고 관리하는 기능을 제공합니다.

## 5.73 `useradd`

빌드 시점에 사용자 계정과 그룹을 생성하는 기능을 제공합니다. `USERADD_PACKAGES`, `USERADD_PARAM`, `GROUPADD_PARAM` 변수를 사용하여 설정합니다.

## 5.74 `utility-tasks`

`do_clean`, `do_listtasks`와 같은 유틸리티 작업을 제공합니다.

## 5.75 `utils`

레시피에서 사용할 수 있는 유용한 Python 함수들을 제공합니다.

## 5.76 `validation`

빌드 유효성 검사를 위한 클래스입니다.

## 5.77 `waf`

Waf 빌드 시스템을 사용하는 소프트웨어를 위한 클래스입니다.

## 5.78 `xmlcatalog`

XML 카탈로그를 등록하는 패키지를 위한 도우미 클래스입니다.
