# Yocto Project 이미지 기능 (Image Features)

Yocto Project에서 `IMAGE_FEATURES` 변수는 생성되는 이미지에 포함될 패키지 그룹이나 특정 동작을 정의하는 데 사용됩니다.

## 1. 개요

이미지 기능은 개별 패키지 이름을 일일이 나열하는 대신, 관련된 패키지 묶음(Package Groups)을 쉽게 설치하거나 루트 파일시스템 생성 과정에서의 설정을 제어하기 위해 사용됩니다. 이 변수는 주로 이미지 레시피(`.bb`) 내에서 정의되거나, `local.conf` 파일의 `EXTRA_IMAGE_FEATURES` 변수를 통해 추가됩니다.

## 2. 설정 방법

### 2.1 이미지 레시피에서 설정
이미지 레시피 파일 내에서 `IMAGE_FEATURES` 변수에 값을 추가합니다.

```bitbake
IMAGE_FEATURES += "ssh-server-openssh package-management"
```

### 2.2 local.conf에서 설정
기존 이미지 레시피를 수정하지 않고 기능을 추가하려면 `local.conf` 파일에서 `EXTRA_IMAGE_FEATURES`를 사용합니다.

```bitbake
EXTRA_IMAGE_FEATURES += "tools-debug"
```

## 3. 주요 기능 목록

다음은 자주 사용되는 `IMAGE_FEATURES` 값들입니다.

*   **`debug-tweaks`**: 개발 및 디버깅을 위한 편의 기능을 활성화합니다. (예: 루트 비밀번호 없이 로그인 허용). **프로덕션 이미지에는 포함하지 않아야 합니다.**
*   **`ssh-server-openssh`**: OpenSSH 서버를 설치합니다. (sftp, scp 등 지원).
*   **`ssh-server-dropbear`**: 경량 SSH 서버인 Dropbear를 설치합니다. (임베디드 시스템에 적합).
*   **`package-management`**: 타겟 장비에서 패키지 관리자(dnf, opkg, apt)를 사용하여 패키지를 설치/제거할 수 있게 합니다.
*   **`read-only-rootfs`**: 루트 파일시스템을 읽기 전용으로 생성합니다.
*   **`splash`**: 부팅 시 스플래시 화면을 표시합니다 (psplash 등).
*   **`tools-debug`**: gdb, strace, rsync 등 디버깅에 유용한 도구들을 설치합니다.
*   **`tools-sdk`**: gcc, make, binutils 등 타겟 장비에서 개발할 수 있는 SDK 도구들을 설치합니다.
*   **`tools-testapps`**: 장치 테스팅을 위한 도구들을 설치합니다 (blktool, tslib 등).
*   **`x11` / `x11-base` / `x11-sato`**: X11 윈도우 시스템 관련 패키지들을 설치합니다. (`DISTRO_FEATURES`에 `x11`이 활성화되어 있어야 함).
*   **`weston`**: Wayland 레퍼런스 컴포지터인 Weston을 설치합니다.
*   **`allow-empty-password`**: 사용자가 비밀번호 없이 생성되도록 허용합니다.
*   **`empty-root-password`**: 루트 계정의 비밀번호를 빈 값으로 설정합니다.

## 4. 주의 사항

*   **SSH 서버 충돌:** `ssh-server-openssh`와 `ssh-server-dropbear`는 동시에 사용할 수 없습니다. 둘 중 하나만 선택해야 합니다.
*   **보안:** `debug-tweaks`, `tools-debug`, `tools-sdk` 등은 시스템의 보안을 취약하게 만들 수 있으므로 최종 배포용 이미지에서는 제거해야 합니다.
*   **의존성:** 일부 이미지 기능은 `DISTRO_FEATURES` 설정에 의존할 수 있습니다. 예를 들어 `x11` 이미지 기능을 사용하려면 배포판 설정에서도 `x11`이 활성화되어 있어야 합니다.

---
*참고: 사용 가능한 모든 이미지 기능은 `meta/classes/core-image.bbclass` 또는 관련 클래스 파일에서 확인할 수 있습니다.*
