# Yocto Project 머신 기능 (Machine Features)

Yocto Project에서 `MACHINE_FEATURES` 변수는 타겟 하드웨어 장치가 지원하는 하드웨어적 기능을 정의하는 데 사용됩니다.

## 1. 개요

`MACHINE_FEATURES`는 주로 BSP(Board Support Package) 레이어의 머신 설정 파일(`conf/machine/<machine>.conf`)에 정의됩니다. 이 변수는 하드웨어의 기능(예: WiFi, Bluetooth, 스크린 등)을 명시하여, 빌드 시스템이 해당 기능을 지원하는 패키지를 포함하거나 소프트웨어 구성을 조정할 수 있도록 합니다.

## 2. 주요 역할

*   **패키지 선택:** 특정 하드웨어 기능이 있을 때만 필요한 패키지(드라이버, 펌웨어 등)를 이미지에 포함시킵니다.
*   **기능 활성화:** 소프트웨어 컴파일 시 하드웨어 가속이나 특정 기능을 활성화하는 옵션을 켭니다.
*   **의존성 관리:** 레시피에서 `REQUIRED_MACHINE_FEATURES`를 사용하여 특정 하드웨어 기능이 없으면 빌드를 건너뛰게 할 수 있습니다.

## 3. 일반적인 기능 목록

다음은 자주 사용되는 `MACHINE_FEATURES` 값들입니다.

*   **`alsa`**: 오디오 하드웨어 지원 (ALSA).
*   **`bluetooth`**: 블루투스 하드웨어 지원.
*   **`screen`**: 디스플레이 출력 지원 (헤드리스 장치가 아님).
*   **`touchscreen`**: 터치스크린 입력 지원.
*   **`keyboard`**: 키보드 입력 지원.
*   **`wifi`**: 무선 LAN(WiFi) 하드웨어 지원.
*   **`usbhost`**: USB 호스트 컨트롤러 지원.
*   **`pci`**: PCI 버스 지원.
*   **`ext2`, `vfat`**: 특정 파일시스템 부팅 지원 (주로 부트로더 관련).
*   **`efi`**: EFI 펌웨어 부팅 지원.
*   **`rtc`**: 리얼 타임 클럭(Real Time Clock) 지원.

## 4. 사용 예시

### 4.1 머신 설정 파일 (`conf/machine/myboard.conf`)

```bitbake
MACHINE_FEATURES = "alsa usbhost wifi screen touchscreen"
```

### 4.2 레시피에서의 활용 (`recipes-bsp/my-driver/my-driver.bb`)

`features_check` 클래스를 사용하여 필수 기능을 강제할 수 있습니다.

```bitbake
inherit features_check

REQUIRED_MACHINE_FEATURES = "wifi"
```

## 5. `DISTRO_FEATURES`와의 차이점

*   **`MACHINE_FEATURES`**: 하드웨어가 **할 수 있는 것** (Capability)을 정의합니다. (예: 이 보드에는 WiFi 칩이 있다.)
*   **`DISTRO_FEATURES`**: 소프트웨어 정책상 **사용할 것** (Policy)을 정의합니다. (예: 우리는 WiFi를 사용할 것이다.)

---
*참고: `COMBINED_FEATURES` 변수는 `MACHINE_FEATURES`와 `DISTRO_FEATURES`의 교집합을 나타냅니다.*
