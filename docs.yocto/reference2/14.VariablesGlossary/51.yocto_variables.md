# Yocto Project 변수 (Variables)

Yocto Project의 빌드 시스템인 BitBake는 메타데이터를 관리하고 빌드 구성을 제어하기 위해 **변수(Variables)**를 핵심적으로 사용합니다.

## 1. 개요

변수는 레시피(`.bb`), 설정 파일(`.conf`), 클래스(`.bbclass`) 등 Yocto Project의 모든 메타데이터 파일에서 사용됩니다. 변수 이름은 대소문자를 구분하며, 관례적으로 대문자를 사용합니다 (예: `WORKDIR`, `SRC_URI`).

## 2. 변수 할당 및 연산자

BitBake는 변수에 값을 할당하기 위해 다양한 연산자를 제공합니다.

*   **`=` (Hard Assignment)**: 값을 할당합니다. 변수가 사용될 때 값이 확장(Expansion)됩니다.
*   **`:=` (Immediate Assignment)**: 할당하는 시점에 즉시 값을 확장합니다.
*   **`?=` (Default Value)**: 변수가 이전에 정의되지 않은 경우에만 값을 할당합니다. `local.conf`에서 오버라이드할 수 있는 기본값을 설정할 때 주로 사용됩니다.
*   **`??=` (Weak Default Value)**: 파싱 과정이 끝날 때까지 값이 할당되지 않은 경우에만 적용되는 가장 낮은 우선순위의 기본값입니다.
*   **`+=` (Append with space)**: 기존 값 뒤에 공백을 추가하고 새 값을 덧붙입니다.
*   **`=+` (Prepend with space)**: 기존 값 앞에 공백을 추가하고 새 값을 덧붙입니다.
*   **`.=` (Append without space)**: 공백 없이 뒤에 추가합니다.
*   **`=.` (Prepend without space)**: 공백 없이 앞에 추가합니다.

## 3. 변수 참조 (Variable Expansion)

변수의 값은 `${VARNAME}` 문법을 사용하여 참조할 수 있습니다.

```bitbake
# 예시
A = "Hello"
B = "${A} World" 
# B는 "Hello World"가 됩니다.
```

## 4. 변수 컨텍스트 (Variable Context)

변수는 정의되는 위치에 따라 그 범위(Scope)가 달라집니다.

*   **설정 변수 (Configuration Variables):** `local.conf`, `bblayers.conf` 등에서 정의되며, 빌드 전체에 전역적으로 영향을 미칩니다. (예: `DL_DIR`, `TMPDIR`)
*   **레시피 변수 (Recipe Variables):** 특정 레시피 파일 내에서 정의되며, 해당 레시피의 빌드 과정에만 영향을 미칩니다. (예: `PV`, `S`, `DEPENDS`)

## 5. 주요 변수 예시

Yocto Project에는 수많은 사전 정의된 변수들이 있습니다.

*   **`PN`**: 패키지 이름 (Package Name).
*   **`PV`**: 패키지 버전 (Package Version).
*   **`PR`**: 패키지 리비전 (Package Revision).
*   **`WORKDIR`**: 레시피의 빌드 작업이 일어나는 디렉토리.
*   **`S`**: 소스 코드가 위치한 디렉토리 (Source).
*   **`B`**: 컴파일이 수행되는 디렉토리 (Build).
*   **`D`**: 설치할 파일이 위치하는 목적지 디렉토리 (Destination).
*   **`IMAGE_INSTALL`**: 이미지에 설치할 패키지 목록.

---
*참고: 모든 변수에 대한 자세한 설명은 Yocto Project 문서의 "Variables Glossary"를 참조하십시오.*
