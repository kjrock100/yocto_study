# Yocto Project devtool 도구

`devtool`은 Yocto Project에서 레시피를 개발, 수정, 테스트하는 과정을 단순화하고 자동화하기 위해 제공되는 강력한 커맨드라인 도구입니다.

## 1. 개요

`devtool`을 사용하면 별도의 레이어를 수동으로 생성하거나 복잡한 비트베이크(BitBake) 환경을 직접 제어하지 않고도, 소스 코드를 수정하고 타겟 장비에 배포하여 테스트하는 작업을 효율적으로 수행할 수 있습니다.

## 2. 주요 기능 및 워크플로우

### 2.1 기존 레시피 수정 (`devtool modify`)
기존 패키지의 소스 코드를 수정하고 싶을 때 사용합니다.

```bash
devtool modify <recipe-name>
```
*   이 명령은 해당 레시피의 소스 코드를 `build/workspace/sources/<recipe-name>` 디렉토리에 추출합니다.
*   개발자는 이 디렉토리에서 코드를 수정하고 Git 커밋을 생성합니다.

### 2.2 새로운 레시피 추가 (`devtool add`)
새로운 소프트웨어를 빌드 시스템에 추가할 때 사용합니다.

```bash
devtool add <recipe-name> <source-url>
```
*   소스 코드 URL을 기반으로 기본 레시피 파일(`.bb`)을 자동으로 생성합니다.

### 2.3 빌드 및 배포 (`devtool build` & `deploy-target`)
수정 중인 레시피를 빌드하고 타겟 장비에 바로 배포하여 테스트합니다.

```bash
devtool build <recipe-name>
devtool deploy-target <recipe-name> root@<target-ip>
```
*   이미지를 다시 굽지 않고도 변경 사항을 빠르게 확인할 수 있습니다.

### 2.4 작업 완료 및 적용 (`devtool finish`)
개발이 완료되면 변경 사항(패치 파일, 레시피 수정 등)을 실제 레이어에 영구적으로 반영합니다.

```bash
devtool finish <recipe-name> <destination-layer-path>
```
*   Workspace에서 레시피를 제거하고, 지정된 레이어로 변경 사항을 이동시킵니다.

## 3. 주요 명령어 요약

*   **`add`**: 새로운 레시피를 생성하고 Workspace에 추가합니다.
*   **`modify`**: 기존 레시피를 수정하기 위해 소스를 추출하고 Workspace를 설정합니다.
*   **`upgrade`**: 레시피를 새로운 버전으로 업그레이드합니다.
*   **`reset`**: 레시피를 Workspace에서 제거하고 원래 상태로 되돌립니다 (변경 사항 적용 안 함).
*   **`status`**: 현재 Workspace에서 작업 중인 레시피 목록을 확인합니다.
*   **`search`**: 사용 가능한 레시피를 검색합니다.

---
*참고: `devtool`을 사용하면 `build/workspace`라는 임시 레이어가 생성되어 작업 중인 레시피가 최우선 순위로 빌드됩니다.*
