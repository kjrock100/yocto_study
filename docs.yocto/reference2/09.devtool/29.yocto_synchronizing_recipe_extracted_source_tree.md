# Yocto Project 레시피의 추출된 소스 트리 동기화 (Synchronizing a Recipe’s Extracted Source Tree)

Yocto Project에서 `devtool`을 사용하여 작업 중인 레시피의 소스 트리를 원본 레시피의 변경 사항과 동기화하는 방법에 대해 설명합니다.

## 1. 개요

`devtool modify`나 `devtool add`를 사용하여 소스 코드를 워크스페이스에 추출한 후, 원본 레시피 파일(`.bb`)이 수정되는 경우가 있습니다. 예를 들어 `SRC_URI`가 변경되거나 새로운 패치가 추가될 수 있습니다. 이때 `devtool sync` 명령을 사용하여 추출된 소스 트리를 레시피의 최신 상태로 업데이트할 수 있습니다.

## 2. 명령어 사용법

```bash
devtool sync <recipe>
```

*   **`<recipe>`**: 동기화할 레시피의 이름입니다. 이 레시피는 현재 워크스페이스에 존재해야 합니다.

## 3. 주요 사용 시나리오

*   **레시피 업데이트:** 다른 개발자가 레시피를 업데이트하여 `SRC_URI`나 의존성이 변경되었을 때, 내 워크스페이스의 소스 코드에도 이를 반영해야 하는 경우.
*   **패치 변경:** 레시피에 적용되는 패치 파일이 추가되거나 수정되었을 때, 이를 추출된 소스 트리에 다시 적용(Re-apply)해야 하는 경우.

## 4. 작동 원리

명령을 실행하면 `devtool`은 다음과 같은 작업을 수행합니다.

1.  **재추출:** 레시피의 현재 설정을 기반으로 소스 코드를 임시 디렉토리에 새로 추출합니다.
2.  **패치 적용:** 레시피에 정의된 패치들을 임시 소스 트리에 적용합니다.
3.  **동기화:** 임시 소스 트리의 상태를 현재 워크스페이스의 소스 트리(`build/workspace/sources/<recipe>`)와 동기화합니다.
    *   이 과정에서 로컬에서 수정한 내용(커밋)은 보존하려고 시도합니다.
    *   만약 충돌이 발생하면, 사용자가 직접 Git을 통해 충돌을 해결해야 합니다.

---
*참고: 이 명령은 `devtool upgrade`와는 다릅니다. `upgrade`는 레시피의 버전을 올리는 것이 목적이고, `sync`는 현재 레시피 정의와 추출된 소스 간의 불일치를 해소하는 것이 목적입니다.*
