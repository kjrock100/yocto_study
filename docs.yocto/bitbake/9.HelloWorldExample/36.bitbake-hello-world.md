# Hello World 예제 (Hello World Example)

BitBake의 동작 원리를 이해하는 가장 좋은 방법은 최소한의 설정으로 간단한 프로젝트를 빌드해보는 것입니다. 이 예제는 Yocto Project나 OpenEmbedded의 복잡한 레이어 구조 없이, 단독으로 BitBake를 실행하여 "Hello World"를 출력하는 과정을 보여줍니다.

## 9.1 개요

이 예제는 BitBake가 어떻게 설정 파일을 읽고, 레시피를 파싱하며, 태스크를 실행하는지 보여줍니다.

## 9.2 BitBake 구하기 (Obtaining BitBake)

BitBake 소스 코드를 다운로드합니다.

```bash
git clone git://git.openembedded.org/bitbake
```

## 9.3 환경 설정 (Setting Up the BitBake Environment)

BitBake 실행 파일이 있는 경로를 `PATH`에 추가하고, 라이브러리 경로를 `PYTHONPATH`에 추가합니다.

```bash
export PATH=$PWD/bitbake/bin:$PATH
export PYTHONPATH=$PWD/bitbake/lib:$PYTHONPATH
```

## 9.4 Hello World 예제 구성 (The Hello World Example)

작업 디렉토리를 만들고 필요한 설정 파일들을 생성합니다.

### 1. 디렉토리 구조

```text
hello/
├── conf/
│   └── bitbake.conf
├── classes/
│   └── base.bbclass
└── printhello.bb
```

### 2. `conf/bitbake.conf`

BitBake가 실행되는 데 필요한 필수 변수들을 정의합니다.

```bitbake
TMPDIR  = "${TOPDIR}/tmp"
CACHE   = "${TMPDIR}/cache"
STAMP   = "${TMPDIR}/stamps"
T       = "${TMPDIR}/work"
B       = "${TMPDIR}"
```

### 3. `classes/base.bbclass`

모든 레시피가 기본적으로 상속받는 클래스입니다. 여기서는 `build` 태스크를 정의합니다.

```bitbake
addtask build
do_build[nostamp] = "1"
do_build() {
    echo "Building ${PN}..."
}
```

### 4. `printhello.bb`

"Hello World"를 출력하는 파이썬 태스크를 포함한 레시피입니다.

```bitbake
DESCRIPTION = "Prints Hello World"
PN = "printhello"
PV = "1"

python do_build() {
    bb.plain("********************");
    bb.plain("*                  *");
    bb.plain("*  Hello, World!   *");
    bb.plain("*                  *");
    bb.plain("********************");
}
```

### 5. 실행

```bash
bitbake printhello
```

실행하면 BitBake가 메타데이터를 파싱하고 `printhello` 레시피의 `do_build` 태스크를 실행하여 콘솔에 메시지를 출력합니다.
