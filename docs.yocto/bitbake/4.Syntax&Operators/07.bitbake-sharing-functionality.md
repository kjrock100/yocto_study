# 기능 공유 (Sharing Functionality)

BitBake는 메타데이터 간에 정의와 기능을 공유할 수 있는 다양한 지시어(Directives)를 제공합니다. 이를 통해 코드 중복을 줄이고 유지 보수성을 높일 수 있습니다.

## 4.4.1 inherit 지시어 (inherit Directive)

`inherit` 지시어는 레시피(`.bb`)나 클래스(`.bbclass`) 파일에서 다른 클래스(`.bbclass`)의 기능을 상속받을 때 사용합니다.

```bitbake
inherit autotools
inherit useradd
```

이 지시어는 `BBPATH`에 있는 `classes/` 또는 `classes-global/` 디렉토리에서 해당 이름의 `.bbclass` 파일을 찾아 포함합니다.

### 4.4.1.1 inherit_defer 지시어 (inherit_defer Directive)

`inherit_defer`는 `inherit`와 유사하지만, 클래스 상속 시점을 파싱의 특정 시점까지 지연시킵니다. 주로 변수 확장이 완료된 후에 상속이 이루어져야 하는 경우에 사용됩니다.

## 4.4.2 include 지시어 (include Directive)

`include` 지시어는 지정된 파일을 현재 위치에 포함시킵니다. 만약 파일이 존재하지 않아도 에러를 발생시키지 않고 무시합니다. 선택적인 설정 파일을 로드할 때 유용합니다.

```bitbake
include local.conf
include ${DISTRO}.inc
```

## 4.4.3 include_all 지시어 (include_all Directive)

`include_all` 지시어는 지정된 패턴과 일치하는 모든 파일을 찾아 포함시킵니다.

## 4.4.4 require 지시어 (require Directive)

`require` 지시어는 `include`와 유사하지만, 지정된 파일이 존재하지 않으면 **파싱 에러(Parse Error)**를 발생시키고 빌드를 중단합니다. 필수적인 의존성 파일을 로드할 때 사용합니다.

```bitbake
require common.inc
```

## 4.4.5 INHERIT 설정 지시어 (INHERIT Configuration Directive)

`INHERIT` 변수는 설정 파일(`.conf`)에서 사용되며, 빌드 전체에 걸쳐 전역적으로 상속할 클래스를 지정합니다.

```bitbake
INHERIT += "abc"
```

이 경우 `abc.bbclass`가 모든 레시피에 대해 상속됩니다.

## 4.4.6 addfragments 지시어 (addfragments Directive)

`addfragments`는 메타데이터 파싱 중에 설정 프래그먼트(Configuration Fragments)를 추가로 로드하도록 지시합니다. 주로 복잡한 설정 구성을 모듈화할 때 사용됩니다.

## 4.4.7 Include 파일 위치 찾기 (Locating Include Files)

BitBake는 `include`나 `require`로 지정된 파일을 찾을 때 `BBPATH` 변수에 정의된 경로들을 순서대로 검색합니다.

## 4.4.8 Class 파일 위치 찾기 (Locating Class Files)

`.bbclass` 파일은 `BBPATH` 내의 `classes` 및 `classes-global` 하위 디렉토리에서 검색됩니다.
