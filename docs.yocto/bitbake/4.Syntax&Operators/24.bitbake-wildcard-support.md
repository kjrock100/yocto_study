# 변수에서의 와일드카드 지원 (Wildcard Support in Variables)

BitBake의 변수 할당 자체는 셸(Shell)에서처럼 자동으로 와일드카드(`*`, `?` 등)를 확장하지 않습니다. 하지만 특정 컨텍스트(Context)나 변수에서는 와일드카드가 지원되며, 필요한 경우 파이썬을 통해 이를 구현할 수 있습니다.

## 4.13.1 지원되는 변수 (Supported Variables)

일부 변수들은 해당 변수를 사용하는 태스크나 Fetcher에 의해 와일드카드가 처리됩니다.

### SRC_URI
`file://` 프로토콜을 사용하는 로컬 파일에 대해 와일드카드를 사용할 수 있습니다. 이를 통해 디렉토리 내의 여러 파일을 일일이 나열하지 않고 한 번에 지정할 수 있습니다.

```bitbake
# 디렉토리 내의 모든 .patch 파일을 소스로 추가
SRC_URI = "file://*.patch"
```

### FILES
`do_package` 태스크는 `FILES` 변수에 지정된 경로 패턴을 해석하여 패키지를 생성합니다. 이때 셸 스타일의 와일드카드가 광범위하게 사용됩니다.

```bitbake
# /usr/bin 아래의 모든 파일과 /usr/lib 아래의 모든 .so 파일을 패키지에 포함
FILES:${PN} += "${bindir}/* ${libdir}/*.so"
```

## 4.13.2 일반 변수에서의 와일드카드 사용 (Wildcards in General Variables)

일반적인 변수 할당 시에는 와일드카드가 확장되지 않고 문자열 그대로 저장됩니다.

```bitbake
# 단순히 문자열 "*.txt"가 저장됨. 파일 목록으로 확장되지 않음.
MY_FILES = "${S}/*.txt"
```

만약 실제 파일 목록으로 확장하고 싶다면, 파이썬의 `glob` 모듈을 활용해야 합니다. 이는 주로 익명 파이썬 함수나 인라인 파이썬 문법을 통해 수행됩니다.

```bitbake
python () {
    import glob
    # ${S} 디렉토리 내의 .txt 파일들을 찾아 공백으로 구분된 문자열로 저장
    files = glob.glob(d.expand('${S}/*.txt'))
    d.setVar('MY_FILES', ' '.join(files))
}
```
