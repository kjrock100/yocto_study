# 페처 (Fetchers)

BitBake는 다양한 프로토콜과 소스 제어 시스템(SCM)을 지원하기 위해 여러 종류의 페처(Fetcher) 모듈을 제공합니다. `SRC_URI`에 지정된 URL의 스킴(Scheme)에 따라 적절한 페처가 자동으로 선택됩니다.

## 6.3.1 로컬 파일 페처 (Local file fetcher - file://)

로컬 파일 시스템에 있는 파일이나 디렉토리를 가져옵니다.

*   **URI 스킴**: `file://`
*   **검색 경로**: `FILESPATH` 변수에 정의된 경로들을 순서대로 검색합니다. 일반적으로 레시피 파일이 있는 디렉토리(`FILE_DIRNAME`)와 그 하위 디렉토리(`files`, `${BPN}` 등)가 포함됩니다.
*   **사용 예**: 설정 파일, 패치 파일, 로컬 소스 코드 등.

```bitbake
SRC_URI = "file://my-config.conf \
           file://0001-fix-bug.patch"
```

## 6.3.2 HTTP/FTP wget 페처 (HTTP/FTP wget fetcher)

웹 서버나 FTP 서버에서 파일을 다운로드합니다. 내부적으로 `wget` 유틸리티를 사용합니다.

*   **URI 스킴**: `http://`, `https://`, `ftp://`
*   **체크섬**: 다운로드 무결성을 위해 `md5sum` 또는 `sha256sum` 파라미터가 필수적으로 요구됩니다(설정에 따라 다름).
*   **파라미터**:
    *   `name`: `SRC_URI`에 여러 파일이 있을 때 체크섬 변수와 매핑하기 위한 이름.
    *   `downloadfilename`: 로컬에 저장될 파일 이름을 변경.

```bitbake
SRC_URI = "https://example.com/source-1.0.tar.gz;sha256sum=..."
```

## 6.3.5 Git 페처 (Git Fetcher - git://)

Git 저장소에서 소스 코드를 가져옵니다.

*   **URI 스킴**: `git://`
*   **필수 변수**: `SRCREV` 변수를 통해 가져올 커밋 해시(Hash)를 지정해야 합니다. (태그나 브랜치 이름만으로는 재현성을 보장할 수 없으므로 해시 사용 권장)
*   **파라미터**:
    *   `protocol`: 전송 프로토콜 지정 (예: `http`, `https`, `ssh`). 기본값은 `git`입니다.
    *   `branch`: 체크아웃할 브랜치 이름.
    *   `destsuffix`: 체크아웃될 디렉토리 위치 지정.

```bitbake
SRC_URI = "git://github.com/yoctoproject/poky.git;protocol=https;branch=master"
SRCREV = "7d9329..."
```

## 6.3.6 Git 서브모듈 페처 (Git Submodule Fetcher - gitsm://)

Git 저장소가 서브모듈(Submodule)을 포함하고 있을 때 사용합니다. `git://`과 유사하지만, 체크아웃 후 서브모듈 업데이트를 재귀적으로 수행합니다.

*   **URI 스킴**: `gitsm://`

## 6.3.13 NPM 페처 (NPM Fetcher - npm://)

Node.js 패키지 레지스트리에서 패키지를 다운로드합니다. `npm` 유틸리티를 사용하여 의존성을 해결하고 패키지를 가져옵니다.

## 기타 페처들 (Other Fetchers)

BitBake는 이 외에도 다양한 SCM과 저장소를 지원합니다.

*   **CVS (`cvs://`)**, **Subversion (`svn://`)**: 구형 버전 관리 시스템 지원.
*   **Repo (`repo://`)**: Google의 Repo 도구 지원.
*   **Crate (`crate://`)**: Rust 언어의 패키지(Crate) 지원.
