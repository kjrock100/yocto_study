# Yocto Project 수동 호출 작업 (Manually Called Tasks)

이 문서는 Yocto Project 빌드 시스템에서 사용자가 직접 `bitbake` 명령어를 통해 호출해야 하는 작업(Tasks)들에 대해 설명합니다. 이 작업들은 일반적인 빌드 프로세스(`do_build`)의 일부로 자동 실행되지 않습니다.

## 1. 클리닝 작업 (Cleaning Tasks)

빌드 상태를 초기화하거나 디스크 공간을 확보하기 위해 사용됩니다.

### `do_clean`
*   **명령어:** `bitbake -c clean <recipe>`
*   **설명:** 해당 레시피의 작업 디렉토리(`WORKDIR`)를 삭제합니다.
*   **용도:** 레시피를 처음부터 다시 빌드하고 싶을 때 사용합니다. 단, SState 캐시는 유지되므로 캐시된 내용이 있다면 재사용될 수 있습니다.

### `do_cleanall`
*   **명령어:** `bitbake -c cleanall <recipe>`
*   **설명:** `do_clean`의 작업을 포함하며, 추가로 다운로드 디렉토리(`DL_DIR`)에 있는 소스 파일과 SState 캐시까지 모두 삭제합니다.
*   **용도:** 소스 다운로드부터 완전히 새로 시작하고 싶을 때 사용합니다.

### `do_cleansstate`
*   **명령어:** `bitbake -c cleansstate <recipe>`
*   **설명:** `do_clean`의 작업을 포함하며, 해당 레시피와 관련된 **공유 상태 캐시(SState Cache)**를 삭제합니다.
*   **용도:** 빌드 아티팩트가 손상되었거나, 캐시를 무시하고 강제로 재빌드해야 할 때 가장 권장되는 초기화 방법입니다.

## 2. 개발 및 디버깅 작업 (Development & Debugging Tasks)

개발자가 빌드 환경 내부를 들여다보거나 설정을 검증할 때 유용합니다.

### `do_devshell`
*   **명령어:** `bitbake -c devshell <recipe>`
*   **설명:** 해당 레시피의 빌드 환경(환경 변수, 크로스 컴파일러 경로 등)이 설정된 새로운 터미널 창을 엽니다.
*   **용도:** `WORKDIR`로 이동하여 직접 `make`나 `configure` 명령을 실행해보며 컴파일 오류를 디버깅할 때 필수적입니다.

### `do_listtasks`
*   **명령어:** `bitbake -c listtasks <recipe>`
*   **설명:** 해당 레시피에서 실행 가능한 모든 작업(Task)의 목록을 출력합니다.
*   **용도:** 특정 레시피가 어떤 작업들을 지원하는지, 커스텀 작업이 잘 정의되었는지 확인할 때 사용합니다.

### `do_checkuri`
*   **명령어:** `bitbake -c checkuri <recipe>`
*   **설명:** 레시피의 `SRC_URI`에 정의된 소스 코드 주소가 유효한지, 다운로드가 가능한지 확인합니다.
*   **용도:** 네트워크 연결 상태나 소스 URL의 유효성을 검증할 때 사용합니다.

## 3. 기타 작업

### `do_package_index`
*   **명령어:** `bitbake package-index`
*   **설명:** `tmp/deploy/` 디렉토리에 있는 패키지 저장소(RPM, IPK, DEB)의 인덱스 파일을 생성하거나 업데이트합니다.
*   **용도:** 빌드된 패키지들을 사용하여 패키지 피드(Package Feed)를 구성하고, 타겟 장비에서 `dnf`, `opkg`, `apt` 등을 통해 패키지를 설치하려 할 때 필요합니다.

---
*참고: 이 내용은 Yocto Project 참조 매뉴얼의 'Manually Called Tasks' 섹션을 기반으로 작성되었습니다.*
