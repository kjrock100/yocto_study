# Yocto Project 소스 디렉토리 구조 (Source Directory Structure)

Yocto Project(Poky)의 소스 디렉토리 구조는 빌드 시스템, 메타데이터, 그리고 빌드 결과물을 체계적으로 관리하도록 구성되어 있습니다.

## 1. 최상위 핵심 구성 요소 (Top-Level Core Components)

Poky 소스 트리의 루트에는 다음과 같은 주요 디렉토리와 파일이 있습니다.

*   **`bitbake/`**: Yocto Project의 빌드 엔진인 BitBake의 소스 코드가 포함되어 있습니다. 메타데이터를 해석하고 작업을 스케줄링하며 빌드를 실행합니다.
*   **`build/`**: 빌드 과정에서 생성되는 모든 출력물이 저장되는 디렉토리입니다. `oe-init-build-env` 스크립트를 실행하면 생성되며, 사용자가 빌드를 수행하는 작업 공간입니다.
*   **`documentation/`**: Yocto Project의 문서 소스 파일들이 위치합니다.
*   **`meta/`**: **OpenEmbedded-Core (OE-Core)** 메타데이터가 포함된 디렉토리입니다. 가장 기본적이고 핵심적인 레시피, 클래스, 설정 파일들이 여기에 있습니다.
*   **`meta-poky/`**: Poky 배포판(Distribution)에 특화된 설정과 메타데이터가 포함되어 있습니다.
*   **`meta-yocto-bsp/`**: Yocto Project에서 지원하는 참조 하드웨어(Reference Hardware)를 위한 BSP(Board Support Package) 레이어입니다.
*   **`scripts/`**: 빌드 환경 설정, 도구, 유틸리티 스크립트들이 포함되어 있습니다.
*   **`oe-init-build-env`**: 빌드 환경을 초기화하는 스크립트입니다. 이 스크립트를 소싱(`source`)하면 `build` 디렉토리가 생성되고 환경 변수가 설정됩니다.

## 2. 빌드 디렉토리 (The Build Directory — `build/`)

빌드 작업이 실제로 수행되는 공간으로, 초기화 후 생성됩니다.

*   **`conf/`**: 빌드 설정을 위한 파일들이 위치합니다.
    *   `local.conf`: 로컬 빌드 설정 (타겟 머신, 병렬 빌드 옵션 등).
    *   `bblayers.conf`: 빌드에 포함할 레이어 목록 정의.
*   **`downloads/`**: 업스트림 소스(tarball, git repository 등)가 다운로드되어 저장되는 곳입니다. 여러 빌드 간에 공유될 수 있습니다.
*   **`sstate-cache/`**: 공유 상태(Shared State) 캐시가 저장됩니다. 빌드 속도를 획기적으로 높여주는 핵심 기능으로, 이전에 빌드된 아티팩트를 재사용할 수 있게 합니다.
*   **`tmp/`**: 빌드 과정의 임시 파일과 최종 결과물이 저장되는 디렉토리입니다.
    *   `tmp/work/`: 패키지별 작업 디렉토리 (컴파일, 설치 등 수행).
    *   `tmp/deploy/images/`: 최종 빌드된 이미지(커널, 루트 파일시스템, 부트로더 등)가 저장되는 위치입니다.

## 3. 메타데이터 (The Metadata — `meta/`)

OpenEmbedded-Core 레이어(`meta/`)는 Yocto Project의 기반이 되는 메타데이터를 담고 있습니다.

*   **`classes/`**: `.bbclass` 파일들이 위치하며, 빌드 로직의 공통 기능(예: `autotools`, `cmake`, `kernel` 등)을 정의합니다.
*   **`conf/`**: 레이어별 설정 파일이 위치합니다.
    *   `machine/`: 머신 정의 파일 (`.conf`).
    *   `distro/`: 배포판 정의 파일 (`.conf`).
*   **`recipes-*/`**: 소프트웨어 패키지를 빌드하기 위한 레시피(`.bb`) 파일들이 기능별로 분류되어 있습니다.
    *   `recipes-core/`: 기본 시스템 이미지 및 핵심 패키지.
    *   `recipes-kernel/`: 리눅스 커널 관련 레시피.
    *   `recipes-bsp/`: 부트로더, 드라이버 등 하드웨어 관련 레시피.

---
*참고: 이 구조는 Poky 레퍼런스 배포판을 기준으로 하며, 사용자 정의 레이어를 추가하면 구조가 확장될 수 있습니다.*
