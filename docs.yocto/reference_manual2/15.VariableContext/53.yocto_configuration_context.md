# Yocto Project 설정 컨텍스트 (Configuration Context)

Yocto Project에서 **설정 컨텍스트(Configuration Context)**는 빌드 시스템 전반에 걸쳐 전역적으로 적용되는 변수와 설정을 정의하는 영역입니다.

## 1. 개요

설정 컨텍스트에서 정의된 변수는 **전역(Global)** 범위를 가집니다. 이는 모든 레시피, 클래스, 그리고 빌드 작업에서 해당 변수를 참조할 수 있음을 의미합니다. BitBake는 빌드를 시작할 때 가장 먼저 설정 파일들을 파싱하여 이 컨텍스트를 구성합니다.

## 2. 구성 요소 (설정 파일)

설정 컨텍스트는 주로 `conf/` 디렉토리에 있는 `.conf` 파일들에 의해 정의됩니다.

*   **`conf/bitbake.conf`**: BitBake의 가장 기본적인 설정이 들어있습니다.
*   **`conf/bblayers.conf`**: 현재 빌드 프로젝트에 포함된 레이어들의 경로를 정의합니다.
*   **`conf/local.conf`**: 사용자가 로컬 빌드 환경을 위해 설정하는 파일입니다. (예: 병렬 빌드 스레드 수, 디스크 공간 모니터링 등)
*   **`conf/machine/*.conf`**: 타겟 하드웨어(Machine)에 특화된 설정을 정의합니다. (BSP 레이어)
*   **`conf/distro/*.conf`**: 배포판(Distribution) 정책을 정의합니다. (예: init 시스템, 툴체인 버전)

## 3. 특징

1.  **전역 가시성 (Global Visibility):** 설정 컨텍스트의 변수는 모든 레시피에서 읽을 수 있습니다. 예를 들어, `DL_DIR`(다운로드 경로)은 모든 레시피가 소스 코드를 다운로드할 때 참조합니다.
2.  **파싱 순서:** 빌드 실행 시 레시피 파일(`.bb`)보다 먼저 파싱됩니다. 따라서 레시피 내에서 설정 변수의 값을 조건문 등에 사용할 수 있습니다.
3.  **레시피에 의한 변경 불가:** 레시피 내부에서 설정 변수와 동일한 이름의 변수를 수정하더라도, 이는 해당 레시피의 로컬 컨텍스트 내에서만 유효하며 전역 설정 자체를 변경하지는 않습니다.

## 4. 주요 변수 예시

*   **`DISTRO`**: 타겟 배포판 이름 (예: `poky`).
*   **`MACHINE`**: 타겟 머신 이름 (예: `qemux86-64`).
*   **`DL_DIR`**: 소스 파일이 다운로드되는 경로.
*   **`TMPDIR`**: 빌드 아티팩트가 생성되는 임시 디렉토리.
*   **`SSTATE_DIR`**: 공유 상태(Shared State) 캐시가 저장되는 경로.

## 5. 설정 확인 방법

현재 설정 컨텍스트에 정의된 변수들의 최종 값을 확인하려면 `bitbake -e` 명령을 사용합니다.

```bash
# 전체 환경 변수 출력
bitbake -e

# 특정 변수(예: DL_DIR)만 확인
bitbake -e | grep ^DL_DIR=
```

---
*참고: 설정 컨텍스트는 빌드의 "기반"을 형성하며, 레시피 컨텍스트는 이 위에서 개별 소프트웨어의 빌드 규칙을 정의합니다.*
