# Yocto Project 레시피 컨텍스트 (Recipe Context)

Yocto Project에서 **레시피 컨텍스트(Recipe Context)**는 개별 소프트웨어 패키지를 빌드하기 위한 메타데이터와 변수들이 정의되는 영역입니다.

## 1. 개요

레시피 컨텍스트에서 정의된 변수는 해당 레시피의 빌드 과정(파싱, 태스크 실행 등)에서만 유효한 **지역(Local)** 범위를 가집니다. 이는 하나의 레시피에서 설정한 변수 값이 다른 레시피의 빌드에 영향을 주지 않도록 격리됨을 의미합니다.

## 2. 구성 요소

레시피 컨텍스트는 주로 다음 파일들에 의해 구성됩니다.

*   **레시피 파일 (`.bb`)**: 패키지의 빌드 규칙, 의존성, 소스 위치 등을 정의합니다.
*   **레시피 확장 파일 (`.bbappend`)**: 기존 레시피의 설정을 덮어쓰거나 추가할 때 사용됩니다.
*   **클래스 파일 (`.bbclass`)**: 레시피가 `inherit` 키워드로 상속받을 때, 해당 클래스의 변수와 함수들이 레시피 컨텍스트로 가져와집니다.

## 3. 특징

1.  **지역 가시성 (Local Visibility):** 레시피 내에서 정의된 변수(예: `SRC_URI`)는 해당 레시피 내에서만 보입니다. 다른 레시피는 이 값을 알 수 없습니다.
2.  **설정 컨텍스트 상속:** 레시피는 `local.conf`나 `machine.conf` 등에서 정의된 전역 설정 변수(Configuration Variable)를 읽을 수 있습니다.
3.  **오버라이드 (Override):** 레시피 내에서 전역 변수와 같은 이름의 변수를 재정의하면, 해당 레시피 내에서만 변경된 값이 적용됩니다. 전역 설정 자체는 변하지 않습니다.

## 4. 주요 변수 예시

레시피 컨텍스트에서 주로 사용되는 변수들은 다음과 같습니다.

*   **`PN` (Package Name)**: 패키지의 이름.
*   **`PV` (Package Version)**: 패키지의 버전.
*   **`S` (Source Directory)**: 소스 코드가 압축 해제되는 위치.
*   **`B` (Build Directory)**: 컴파일 작업이 수행되는 위치.
*   **`D` (Destination Directory)**: `do_install` 태스크가 파일을 설치하는 임시 루트 디렉토리.
*   **`DEPENDS`**: 빌드 타임 의존성.
*   **`RDEPENDS`**: 런타임 의존성.

## 5. 변수 확인 방법

특정 레시피의 컨텍스트에서 변수가 어떻게 설정되었는지 확인하려면 `bitbake -e` 명령을 사용합니다.

```bash
# bash 레시피의 전체 환경 변수 출력
bitbake -e bash

# bash 레시피의 WORKDIR 변수 값 확인
bitbake -e bash | grep ^WORKDIR=
```

---
*참고: 레시피 컨텍스트는 각 패키지 빌드의 독립성을 보장하는 핵심 메커니즘입니다.*
