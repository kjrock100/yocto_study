# Yocto Project: Poky 참조 배포판 수동 설정 (Setting Up the Poky Reference Distro Manually)

이 문서는 Yocto Project Development Tasks Manual의 10장을 기반으로, Poky 참조 배포판을 수동으로 설정하고 빌드하는 과정을 설명합니다.

## 10.1 Git을 사용하여 레이어 클론 (Use Git to Clone The Layers)

Yocto Project를 사용하려면 먼저 소스 코드를 확보해야 합니다. Poky 저장소와 필요한 추가 레이어들을 Git을 통해 클론합니다.

1. **Poky 저장소 클론**:

    ```bash
    git clone git://git.yoctoproject.org/poky
    cd poky
    ```

2. **브랜치 체크아웃**:
    사용하려는 Yocto Project 릴리스 버전에 맞는 브랜치로 전환합니다. (예: `scarthgap`, `kirkstone`)

    ```bash
    git checkout <branch-name>
    ```

3. **추가 레이어 클론 (선택사항)**:
    `meta-openembedded`와 같은 추가 레이어가 필요하다면 함께 클론합니다.

    ```bash
    git clone git://git.openembedded.org/meta-openembedded
    ```

## 10.2 이미지 빌드 (Building Your Image)

소스 코드가 준비되면 빌드 환경을 초기화하고 이미지를 빌드할 수 있습니다.

1. **빌드 환경 초기화**:
    `oe-init-build-env` 스크립트를 실행하여 빌드 환경을 설정합니다. 이 스크립트는 빌드 디렉토리를 생성하고 환경 변수를 설정합니다.

    ```bash
    source oe-init-build-env
    ```

2. **레이어 구성 (`conf/bblayers.conf`)**:
    추가로 클론한 레이어가 있다면 `conf/bblayers.conf` 파일의 `BBLAYERS` 변수에 경로를 추가해야 합니다.

    ```bitbake
    BBLAYERS ?= " \
      /path/to/poky/meta \
      /path/to/poky/meta-poky \
      /path/to/poky/meta-yocto-bsp \
      /path/to/meta-openembedded/meta-oe \
      "
    ```

3. **빌드 실행**:
    BitBake를 사용하여 이미지를 빌드합니다.

    ```bash
    bitbake core-image-minimal
    ```

---
참고: 이 과정은 `repo` 도구를 사용하지 않고 개별 Git 저장소를 직접 관리할 때 유용합니다.
