# 레이어 활성화 (Enabling Your Layer)

Yocto Project에서 새로운 레이어를 생성하거나 기존 레이어를 사용하려면, 빌드 시스템이 해당 레이어를 인식할 수 있도록 활성화해야 합니다. 이 문서는 레이어를 활성화하는 두 가지 주요 방법을 설명합니다.

## 1. bitbake-layers 스크립트 사용 (권장)

가장 쉽고 안전한 방법은 `bitbake-layers` 스크립트를 사용하는 것입니다. 이 도구는 `bblayers.conf` 파일을 자동으로 업데이트해 줍니다.

### 1.1. 레이어 추가 명령어

빌드 환경이 초기화된 상태에서 다음 명령어를 실행합니다.

```bash
bitbake-layers add-layer <path-to-layer>
```

**예시**:

```bash
bitbake-layers add-layer ../meta-mylayer
```

### 1.2. 장점

- **자동화**: `conf/bblayers.conf` 파일을 직접 편집할 필요가 없습니다.
- **경로 처리**: 상대 경로를 입력해도 설정 파일에는 절대 경로로 변환되어 저장되므로 경로 오류를 방지할 수 있습니다.

## 2. bblayers.conf 파일 수동 편집

스크립트를 사용할 수 없거나 세밀한 제어가 필요한 경우, 설정 파일을 직접 수정할 수 있습니다.

### 2.1. 파일 위치

빌드 디렉토리 내의 `conf/bblayers.conf` 파일에 레이어 정보가 저장됩니다.

### 2.2. 수정 방법

`BBLAYERS` 변수에 레이어의 경로를 추가합니다. 경로는 공백으로 구분되며, 가독성을 위해 백슬래시(`\`)를 사용하여 줄바꿈할 수 있습니다.

```bash
BBLAYERS ?= " \
  /home/user/poky/meta \
  /home/user/poky/meta-poky \
  /home/user/poky/meta-yocto-bsp \
  /home/user/poky/meta-mylayer \
  "
```

## 3. 활성화 확인

레이어가 올바르게 추가되었는지 확인하려면 다음 명령어를 사용합니다.

```bash
bitbake-layers show-layers
```

이 명령어는 현재 활성화된 레이어의 목록, 경로, 그리고 우선순위(Priority)를 출력합니다.
