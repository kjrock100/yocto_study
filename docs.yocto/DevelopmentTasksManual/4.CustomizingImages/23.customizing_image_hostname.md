# 이미지 호스트네임 커스터마이징 (Customizing an Image Hostname)

기본적으로 Yocto Project 빌드 시스템은 `local.conf` 파일의 `MACHINE` 변수 값을 사용하여 호스트네임을 설정합니다. 예를 들어 `MACHINE = "qemux86"`인 경우 호스트네임은 `qemux86`이 됩니다.

이 기본 동작을 변경하고 사용자 정의 호스트네임을 설정하려면 `base-files` 레시피를 수정해야 합니다. 이 레시피가 시스템의 `/etc/hostname` 파일을 생성하기 때문입니다.

## 1. local.conf 사용 (Using local.conf)

가장 간단한 방법은 `conf/local.conf` 파일에서 `base-files` 패키지에 대한 변수를 설정하는 것입니다.

```bash
hostname:pn-base-files = "my-hostname"
```

- **hostname**: 호스트네임을 정의하는 변수입니다.
- **:pn-base-files**: 이 변수 설정이 `base-files` 레시피에만 적용되도록 합니다.

이 방법은 특정 빌드 디렉토리 내에서만 설정을 변경하고 싶을 때 유용합니다.

## 2. bbappend 파일 사용 (Using a .bbappend File)

특정 레이어를 사용하는 모든 이미지에 대해 호스트네임을 변경하려면 `base-files` 레시피에 대한 `.bbappend` 파일을 생성합니다.

1. **파일 생성**: 자신의 레이어에 `recipes-core/base-files/base-files_%.bbappend` 파일을 생성합니다.
2. **내용 작성**:

   ```bitbake
   hostname = "my-hostname"
   ```

이 방법은 프로젝트의 소스 코드(레이어) 레벨에서 설정을 관리하므로 버전 관리와 재사용에 유리합니다.

## 3. 조건부 호스트네임 설정

특정 머신에 대해서만 호스트네임을 다르게 설정하고 싶다면 머신 오버라이드를 사용할 수 있습니다.

```bitbake
hostname:qemux86 = "my-qemu-host"
hostname:raspberrypi4 = "my-rpi-host"
```

이 설정은 `local.conf`나 `.bbappend` 파일 모두에서 사용할 수 있습니다.
