# Yocto Project: 임시 소스 코드 찾기 (Finding Temporary Source Code)

이 문서는 Yocto Project Development Tasks Manual의 8장을 기반으로, BitBake가 빌드 과정에서 사용하는 임시 소스 코드와 작업 디렉토리를 찾는 방법을 설명합니다.

## 8.1 개요 (Overview)

BitBake는 빌드 과정에서 소스 코드를 다운로드하고, 압축을 해제하고, 패치를 적용하고, 컴파일하는 작업을 수행합니다. 이 모든 작업은 "작업 디렉토리(Work Directory)"라고 불리는 임시 공간에서 이루어집니다. 디버깅이나 빌드 과정을 이해하기 위해서는 이 디렉토리의 위치를 아는 것이 중요합니다.

## 8.2 작업 디렉토리 찾기 (Finding the Work Directory)

모든 레시피의 빌드 작업은 `WORKDIR` 변수에 정의된 경로 내에서 수행됩니다.

* **경로 구조**: 일반적으로 다음과 같은 구조를 가집니다.
    `${TMPDIR}/work/${MULTIMACH_TARGET_SYS}/${PN}/${EXTENDPE}${PV}-${PR}`
  * 예: `build/tmp/work/qemux86_64-poky-linux/coreutils/8.32-r0/`

* **경로 확인 방법**: `bitbake -e` 명령어를 사용하여 특정 레시피의 `WORKDIR` 변수 값을 확인할 수 있습니다.

    ```bash
    bitbake -e <recipe_name> | grep ^WORKDIR=
    ```

## 8.3 소스 코드 위치 (The Source Code Directory - S)

압축 해제되고 패치가 적용된 소스 코드는 `S` 변수가 가리키는 디렉토리에 위치합니다.

* 기본적으로 `S`는 `${WORKDIR}/${BP}` (즉, `<이름>-<버전>`)로 설정되지만, 레시피에 따라 다를 수 있습니다.
* `do_unpack`, `do_patch` 태스크가 완료된 후 이 디렉토리에서 소스 코드를 확인할 수 있습니다.

## 8.4 빌드 디렉토리 (The Build Directory - B)

실제 컴파일이 수행되고 객체 파일(.o)이 생성되는 위치는 `B` 변수가 가리키는 디렉토리입니다.

* **In-tree build**: 소스 코드 디렉토리 내에서 빌드하는 경우 `B = "${S}"`입니다. (기본값)
* **Out-of-tree build**: 소스 코드와 분리된 별도의 디렉토리에서 빌드하는 경우 `B`는 `S`와 다른 경로를 가집니다. (예: `${WORKDIR}/build`)

---
참고: `devtool modify`를 사용하면 임시 작업 디렉토리가 아닌, 사용자가 지정한 작업 공간(Workspace)으로 소스 코드를 가져와서 작업할 수 있어 훨씬 편리합니다.
