# Yocto Project: 기본 레시피 찾기 또는 자동 생성 (Locate or Automatically Create a Base Recipe)

이 문서는 Yocto Project Development Tasks Manual의 5.2절을 기반으로, 레시피를 처음부터 작성하는 대신 도구를 사용하여 자동으로 생성하거나 기존 레시피를 참조하여 시작하는 방법을 설명합니다.

## 5.2 개요 (Overview)

새로운 레시피를 작성할 때 처음부터 모든 구문을 직접 작성하는 것보다, Yocto Project가 제공하는 도구를 활용하거나 이미 존재하는 유사한 레시피를 수정하여 사용하는 것이 훨씬 효율적이고 오류를 줄일 수 있습니다.

## 5.2.1 devtool add를 사용하여 기본 레시피 생성 (Creating the Base Recipe Using devtool add)

`devtool`은 Yocto Project 환경에서 개발자가 레시피를 생성, 수정, 테스트하는 것을 돕는 강력한 유틸리티입니다. `devtool add` 명령어를 사용하면 소스 코드를 가져오고, 의존성을 분석하여 자동으로 레시피를 생성하며, 이를 작업 공간(workspace)에 설정해 줍니다.

* **기능**:
  * 지정된 소스 URL(Git, Tarball 등) 또는 로컬 소스 트리에서 코드를 가져옵니다.
  * 빌드 시스템(Autotools, CMake, Make 등)을 감지하여 적절한 `inherit` 클래스와 태스크를 설정합니다.
  * 생성된 레시피를 `workspace` 레이어에 추가하여 즉시 `devtool build`로 테스트할 수 있게 합니다.

* **사용 예시**:

    ```bash
    # 원격 Git 저장소에서 레시피 생성
    $ devtool add my-package https://github.com/example/my-package.git

    # 로컬 소스 트리에서 레시피 생성
    $ devtool add my-local-package /home/user/src/my-local-package
    ```

## 5.2.2 recipetool create를 사용하여 기본 레시피 생성 (Creating the Base Recipe Using recipetool create)

`recipetool`은 `devtool`이 내부적으로 사용하는 하위 레벨 도구입니다. 작업 공간(workspace)을 설정하지 않고 단순히 레시피 파일(.bb)만 생성하고 싶을 때 유용합니다.

* **기능**:
  * 소스를 분석하여 메타데이터(라이선스, 체크섬, 의존성 등)를 추출하고 `.bb` 파일을 생성합니다.
  * `devtool add`와 달리 빌드 환경을 자동으로 구성해주지는 않으므로, 생성된 파일을 적절한 레이어 디렉토리로 직접 옮겨야 할 수도 있습니다.

* **사용 예시**:

    ```bash
    # 레시피 파일 생성 후 출력
    $ recipetool create https://github.com/example/my-package.git -o my-package_1.0.bb
    ```

## 5.2.3 유사한 레시피 찾기 및 사용 (Locating and Using a Similar Recipe)

자동 생성 도구가 적절한 결과를 내지 못하거나, 특수한 설정이 필요한 경우 기존에 존재하는 유사한 레시피를 찾아 템플릿으로 사용하는 것이 좋습니다.

* **방법**:
    1. **OpenEmbedded Layer Index 검색**: layers.openembedded.org에서 유사한 기능을 하거나 동일한 빌드 시스템을 사용하는 패키지를 검색합니다.
    2. **기존 레시피 복사**: `poky`나 다른 레이어 내의 레시피를 찾아 복사합니다.
    3. **수정**: 패키지 이름, 버전, 소스 URL(`SRC_URI`), 라이선스 체크섬(`LIC_FILES_CHKSUM`) 등을 새로운 패키지에 맞게 수정합니다.

---
참고: 자동 생성된 레시피는 완벽하지 않을 수 있으므로, 반드시 내용을 검토하고 필요한 경우 `DEPENDS`, `RDEPENDS`, `EXTRA_OECONF` 등의 변수를 수정해야 합니다.
