# Yocto Project: 레시피 저장 및 명명 (Storing and Naming the Recipe)

이 문서는 Yocto Project Development Tasks Manual의 5.3절을 기반으로, 작성한 레시피 파일을 올바른 위치에 저장하고 BitBake가 인식할 수 있도록 명명하는 규칙을 설명합니다.

## 5.3 개요 (Overview)

레시피를 작성한 후에는 BitBake가 이를 찾아 파싱할 수 있도록 적절한 레이어 구조 내에 배치하고, 표준화된 명명 규칙을 따라 파일 이름을 지정해야 합니다.

## 5.3.1 레시피 저장 위치 (Storing the Recipe)

OpenEmbedded 빌드 시스템은 `BBFILES` 변수에 정의된 경로를 통해 레시피를 찾습니다. 일반적으로 레시피는 레이어 디렉토리 내에 다음과 같은 계층 구조로 저장하는 것이 관례입니다.

* **구조**: `meta-<layer>/recipes-<category>/<package>/<recipe>.bb`
  * `meta-<layer>`: 레이어의 최상위 디렉토리 (예: `meta-mylayer`).
  * `recipes-<category>`: 레시피를 기능별로 분류하는 디렉토리 (예: `recipes-core`, `recipes-kernel`, `recipes-graphics`). 이 디렉토리 이름은 BitBake가 인식하는 필수 사항은 아니지만, 관례적으로 사용됩니다.
  * `<package>`: 특정 패키지를 위한 디렉토리. 레시피 파일(`.bb`) 외에 패치 파일(`.patch`)이나 설정 파일 등을 함께 관리하기 위해 생성합니다.

* **예시**:

    ```text
    meta-mylayer/
    └── recipes-example/
        └── myhello/
            ├── myhello_1.0.bb
            ├── file1.patch
            └── myhello.conf
    ```

## 5.3.2 레시피 명명 규칙 (Naming the Recipe)

BitBake는 파일 이름을 파싱하여 패키지 이름(`${PN}`)과 버전(`${PV}`)을 추출하므로, 파일 이름은 반드시 다음 형식을 따라야 합니다.

* **형식**: `<basename>_<version>.bb`
  * `<basename>`: 패키지의 이름입니다. 이 부분은 `${PN}` 변수에 할당됩니다.
  * `_` (언더스코어): 이름과 버전을 구분하는 필수 구분자입니다.
  * `<version>`: 패키지의 버전입니다. 이 부분은 `${PV}` 변수에 할당됩니다.
  * `.bb`: BitBake 레시피 파일의 확장자입니다.

* **예시**:
  * `zlib_1.2.11.bb`:
    * `PN` = "zlib"
    * `PV` = "1.2.11"
  * `my-app_git.bb`:
    * `PN` = "my-app"
    * `PV` = "git" (주로 Git 소스를 사용하며 특정 버전을 명시하지 않을 때 사용)

---
참고: 파일 이름에 언더스코어(`_`)를 잘못 사용하면(예: 버전을 구분하는 용도가 아닌 이름의 일부로 사용하는 경우 등) BitBake가 패키지 이름과 버전을 잘못 인식할 수 있으므로 주의해야 합니다.
