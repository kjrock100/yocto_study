# GObject Introspection 지원 활성화 (Enabling GObject Introspection Support)

GObject Introspection(GI)은 런타임에 GObject 기반 라이브러리의 API 정보를 제공하는 미들웨어 계층입니다. 이를 통해 Python, JavaScript 등 다양한 언어에서 C 라이브러리를 동적으로 사용할 수 있게 됩니다. Yocto Project는 크로스 컴파일 환경에서 GI 데이터를 생성하는 것을 지원합니다.

## 1. Introspection 데이터 생성 활성화 (Enabling the Generation of Introspection Data)

GObject Introspection 데이터를 생성하려면 `DISTRO_FEATURES` 변수에 `gobject-introspection-data` 기능을 추가해야 합니다.

* **설정 파일**: `conf/local.conf` 또는 배포판 설정 파일
* **설정 방법**:

    ```bash
    DISTRO_FEATURES:append = " gobject-introspection-data"
    ```

또한, 레시피 수준에서 `gobject-introspection` 클래스를 상속받아야 합니다. 대부분의 GNOME 관련 패키지들은 이미 이를 처리하고 있습니다.

```bash
inherit gobject-introspection
```

## 2. Introspection 데이터 생성 비활성화 (Disabling the Generation of Introspection Data)

특정 이유로 GI 데이터 생성을 원하지 않는 경우, 전역적으로 또는 레시피별로 비활성화할 수 있습니다.

* **전역 비활성화**:
    `gobject-introspection-data` 기능이 `DISTRO_FEATURES`에 포함되지 않도록 하거나, 백필(backfill)을 방지하여 비활성화할 수 있습니다.

    ```bash
    DISTRO_FEATURES_BACKFILL_CONSIDERED = "gobject-introspection-data"
    ```

## 3. 이미지에서 Introspection 동작 테스트 (Testing that Introspection Works in an Image)

GI가 올바르게 동작하는지 확인하려면, GI를 사용하는 언어 바인딩(예: Python)을 통해 라이브러리를 로드해 볼 수 있습니다.

1. 이미지에 `python3-pygobject` 패키지를 포함시킵니다.
2. 타겟 장치에서 Python 인터프리터를 실행하고 다음 코드를 테스트합니다.

    ```python
    import gi
    gi.require_version('GLib', '2.0')
    from gi.repository import GLib
    print(GLib.get_host_name())
    ```

## 4. 알려진 문제 (Known Issues)

* **QEMU 의존성**: 크로스 컴파일 환경에서 GI 데이터를 생성(스캔)하기 위해 `qemu-<target-arch>`를 사용하여 타겟 바이너리를 실행합니다. 따라서 빌드 호스트에 QEMU 지원이 필요합니다.
* **성능**: GI 데이터 생성 과정은 에뮬레이션을 포함하므로 빌드 시간이 늘어날 수 있습니다.

---
*참고: 이 문서는 Yocto Project Development Tasks Manual의 'Enabling GObject Introspection Support' 섹션을 기반으로 작성되었습니다.*
